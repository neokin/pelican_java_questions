
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="/theme/pygments/github.min.css">

    <script src="/theme/tipuesearch/jquery.min.js"></script>
    <script src="/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="/theme/tipuesearch/tipuesearch_set.min.js"></script>
    <script src="/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="/theme/tipuesearch/tipuesearch.min.css" />

  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/solid.css">


    <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Java Interview Atom">



  


    <meta name="author" content="Кирилл" />
    <meta name="description" content="" />
<meta property="og:site_name" content="Java Interview"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="Java Interview"/>
<meta property="og:description" content=""/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content=""/>



  <title>Java Interview &ndash; Servlets, JSP, JSTL</title>

</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="">
        <img src="/theme/img/profile.png" alt="" title="">
      </a>

      <h1>
        <a href=""></a>
      </h1>


        <form class="navbar-search" action="/search.html" role="search">
          <input type="text" name="q" id="tipue_search_input" placeholder="Search...">
        </form>

      <nav>
        <ul class="list">


              <li>
                <a target="_self"
                   href="/pages/java-core.html#java-core">
                  Java Core
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/java-collections-framework.html#java-collections-framework">
                  Java Collections Framework
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/java-8.html#java-8">
                  Java 8
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/oop.html#oop">
                  ООП
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/shablony-proektirovaniia.html#shablony-proektirovaniia">
                  Шаблоны проектирования
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/jvm.html#jvm">
                  JVM
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/mnogopotochnost.html#mnogopotochnost">
                  Многопоточность
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/serializatsiia.html#serializatsiia">
                  Сериализация
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/bazy-dannykh.html#bazy-dannykh">
                  Базы данных
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/sql.html#sql">
                  SQL
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/osnovy-web.html#osnovy-web">
                  Основы Web
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/xml.html#xml">
                  XML
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/servlets-jsp-jstl.html#servlets-jsp-jstl">
                  Servlets, JSP, JSTL
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/zhurnalirovanie.html#zhurnalirovanie">
                  Журналирование
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/testirovanie.html#testirovanie">
                  Тестирование
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/jdbc.html#jdbc">
                  JDBC
                </a>
              </li>
              <li>
                <a target="_self"
                   href="/pages/potoki-vvodavyvoda-v-java.html#potoki-vvodavyvoda-v-java">
                  Потоки ввода/вывода в Java
                </a>
              </li>

        </ul>
      </nav>

      <ul class="social">
      </ul>
    </div>

  </aside>
  <main>


<article class="single">
  <header>
    
    <h1 id="servlets-jsp-jstl">Servlets, JSP, JSTL</h1>
  </header>
  <div>
<h3 id="_"><a name="servlets-jsp-jstl"></a>_</h3>
<ul>
<li><a href="#Что-такое-сервлет">Что такое <em>«сервлет»</em>?</a></li>
<li><a href="#В-чем-заключаются-преимущества-технологии-сервлетов-над-cgi-common-gateway-interface">В чем заключаются преимущества технологии сервлетов над CGI (Common Gateway Interface)?</a></li>
<li><a href="#Какова-структура-веб-проекта">Какова структура веб-проекта?</a></li>
<li><a href="#Что-такое-контейнер-сервлетов">Что такое <em>«контейнер сервлетов»</em>?</a></li>
<li><a href="#Зачем-нужны-сервера-приложений-если-есть-контейнеры-сервлетов">Зачем нужны сервера приложений, если есть контейнеры сервлетов?</a></li>
<li><a href="#Как-контейнер-сервлетов-управляет-жизненным-циклом-сервлета-когда-и-какие-методы-вызываются">Как контейнер сервлетов управляет жизненным циклом сервлета, когда и какие методы вызываются?</a></li>
<li><a href="#Что-такое-дескриптор-развертывания">Что такое <em>«дескриптор развертывания»</em>?</a></li>
<li><a href="#Какие-действия-необходимо-проделать-при-создании-сервлетов">Какие действия необходимо проделать при создании сервлетов?</a></li>
<li><a href="#В-каком-случае-требуется-переопределять-метод-service">В каком случае требуется переопределять метод <code>service()</code>?</a></li>
<li><a href="#Есть-ли-смысл-определять-для-сервлета-конструктор-Каким-образом-лучше-инициализировать-данные">Есть ли смысл определять для сервлета конструктор? Каким образом лучше инициализировать данные?</a></li>
<li><a href="#Почему-необходимо-переопределить-только-init-метод-без-аргументов">Почему необходимо переопределить только <code>init()</code> метод без аргументов?</a></li>
<li><a href="#Какие-наиболее-распространенные-задачи-выполняются-в-контейнере-сервлетов">Какие наиболее распространенные задачи выполняются в контейнере сервлетов?</a></li>
<li><a href="#Что-вы-знаете-о-сервлетных-фильтрах">Что вы знаете о <em>сервлетных фильтрах</em>?</a></li>
<li><a href="#Зачем-в-сервлетах-используются-различные-listener">Зачем в сервлетах используются различные <em>listener</em>?</a></li>
<li><a href="#Когда-стоит-использовать-фильтры-сервлетов-а-когда-слушателей">Когда стоит использовать фильтры сервлетов, а когда слушателей?</a></li>
<li><a href="#Как-реализовать-запуск-сервлета-одновременно-с-запуском-приложения">Как реализовать запуск сервлета одновременно с запуском приложения?</a></li>
<li><a href="#Как-обработать-в-приложении-исключения-выброшенные-другим-сервлетом">Как обработать в приложении исключения, выброшенные другим сервлетом?</a></li>
<li><a href="#Что-представляет-собой-servletconfig">Что представляет собой <code>ServletConfig</code>?</a></li>
<li><a href="#Что-представляет-собой-servletcontext">Что представляет собой <code>ServletContext</code>?</a></li>
<li><a href="#В-чем-отличия-servletcontext-и-servletconfig">В чем отличия <code>ServletContext</code> и <code>ServletConfig</code>?</a></li>
<li><a href="#Для-чего-нужен-интерфейс-servletresponse">Для чего нужен интерфейс <code>ServletResponse</code>?</a></li>
<li><a href="#Для-чего-нужен-интерфейс-servletrequest">Для чего нужен интерфейс <code>ServletRequest</code>?</a></li>
<li><a href="#Что-такое-request-dispatcher">Что такое <code>Request Dispatcher</code>?</a></li>
<li><a href="#Как-из-одного-сервлета-вызвать-другой-сервлет">Как из одного сервлета вызвать другой сервлет?</a></li>
<li><a href="#Чем-отличается-sendredirect-от-forward">Чем отличается <code>sendRedirect()</code> от <code>forward()</code>?</a></li>
<li><a href="#Для-чего-используются-атрибуты-сервлетов-и-как-происходит-работа-с-ними">Для чего используются атрибуты сервлетов и как происходит работа с ними?</a></li>
<li><a href="#Каким-образом-можно-допустить-в-сервлете-deadlock">Каким образом можно допустить в сервлете deadlock?</a></li>
<li><a href="#Как-получить-реальное-расположение-сервлета-на-сервере">Как получить реальное расположение сервлета на сервере?</a></li>
<li><a href="#Как-получить-информацию-о-сервере-из-сервлета">Как получить информацию о сервере из сервлета?</a></li>
<li><a href="#Как-получить-ip-адрес-клиента-на-сервере">Как получить IP адрес клиента на сервере?</a></li>
<li><a href="#Какие-классы-обертки-для-сервлетов-вы-знаете">Какие классы-обертки для сервлетов вы знаете?</a></li>
<li><a href="#В-чем-отличия-genericservlet-и-httpservlet">В чем отличия <code>GenericServlet</code> и <code>HttpServlet</code>?</a></li>
<li><a href="#Почему-httpservlet-класс-объявлен-как-абстрактный">Почему <code>HttpServlet</code> класс объявлен как абстрактный?</a></li>
<li><a href="#Какие-основные-методы-присутствуют-в-классе-httpservlet">Какие основные методы присутствуют в классе <code>HttpServlet</code>?</a></li>
<li><a href="#Стоит-ли-волноваться-о-многопоточной-безопасности-работая-с-сервлетами">Стоит ли волноваться о многопоточной безопасности работая с сервлетами?</a></li>
<li><a href="#Какой-метод-http-не-является-неизменяемым">Какой метод HTTP не является неизменяемым?</a></li>
<li><a href="#Какие-есть-методы-отправки-данных-с-клиента-на-сервер">Какие есть методы отправки данных с клиента на сервер?</a></li>
<li><a href="#В-чем-разница-между-методами-get-и-post">В чем разница между методами <code>GET</code> и <code>POST</code>?</a></li>
<li><a href="#В-чем-разница-между-printwriter-и-servletoutputstream">В чем разница между <code>PrintWriter</code> и <code>ServletOutputStream</code>?</a></li>
<li><a href="#Можно-ли-одновременно-использовать-в-сервлете-printwriter-и-servletoutputstream">Можно ли одновременно использовать в сервлете <code>PrintWriter</code> и <code>ServletOutputStream</code>?</a></li>
<li><a href="#Расскажите-об-интерфейсе-singlethreadmodel">Расскажите об интерфейсе <code>SingleThreadModel</code>.</a></li>
<li><a href="#Что-означает-url-encoding-Как-это-осуществить-в-java">Что означает <em>URL encoding</em>? Как это осуществить в Java?</a></li>
<li><a href="#Какие-различные-методы-управления-сессией-в-сервлетах-вы-знаете">Какие различные методы управления сессией в сервлетах вы знаете?</a></li>
<li><a href="#Что-такое-cookies">Что такое <em>cookies</em>?</a></li>
<li><a href="#Какие-методы-для-работы-с-cookies-предусмотрены-в-сервлетах">Какие методы для работы с cookies предусмотрены в сервлетах?</a></li>
<li><a href="#Что-такое-url-rewriting">Что такое <em>URL Rewriting</em>?</a></li>
<li><a href="#Зачем-нужны-и-чем-отличаются-методы-encodeurl-и-encoderedirecturl">Зачем нужны и чем отличаются методы <code>encodeURL()</code> и <code>encodeRedirectURL()</code>?</a></li>
<li><a href="#Что-такое-сессия">Что такое <em>«сессия»</em>?</a></li>
<li><a href="#Как-уведомить-объект-в-сессии-что-сессия-недействительна-или-закончилась">Как уведомить объект в сессии, что сессия недействительна или закончилась?</a></li>
<li><a href="#Какой-существует-эффективный-способ-удостоверится-что-все-сервлеты-доступны-только-для-пользователя-с-верной-сессией">Какой существует эффективный способ удостоверится, что все сервлеты доступны только для пользователя с верной сессией?</a></li>
<li><a href="#Как-мы-можем-обеспечить-transport-layer-security-для-нашего-веб-приложения">Как мы можем обеспечить <em>transport layer security</em> для нашего веб приложения?</a></li>
<li><a href="#Как-организовать-подключение-к-базе-данных-обеспечить-журналирование-в-сервлете">Как организовать подключение к базе данных, обеспечить журналирование в сервлете?</a></li>
<li><a href="#Какие-основные-особенности-появились-в-спецификации-servlet-3">Какие основные особенности появились в спецификации <em>Servlet 3</em>?</a></li>
<li><a href="#Какие-способы-аутентификации-доступны-сервлету">Какие способы аутентификации доступны сервлету?</a></li>
<li><a href="#Что-такое-java-server-pages-jsp">Что такое <em>Java Server Pages (JSP)</em>?</a></li>
<li><a href="#Зачем-нужен-jsp">Зачем нужен JSP?</a></li>
<li><a href="#Опишите-как-обрабатываются-jsp-страницы-начиная-от-запроса-к-серверу-заканчивая-ответом-пользователю">Опишите, как обрабатываются JSP страницы, начиная от запроса к серверу, заканчивая ответом пользователю.</a></li>
<li><a href="#Расскажите-об-этапах-фазах-жизненного-цикла-jsp">Расскажите об этапах (фазах) жизненного цикла JSP.</a></li>
<li><a href="#Расскажите-о-методах-жизненного-цикла-jsp">Расскажите о методах жизненного цикла JSP.</a></li>
<li><a href="#Какие-методы-жизненного-цикла-jsp-могут-быть-переопределены">Какие методы жизненного цикла JSP могут быть переопределены?</a></li>
<li><a href="#Как-можно-предотвратить-прямой-доступ-к-jsp-странице-из-браузера">Как можно предотвратить прямой доступ к JSP странице из браузера?</a></li>
<li><a href="#Какая-разница-между-динамическим-и-статическим-содержимым-jsp">Какая разница между <em>динамическим</em> и <em>статическим</em> содержимым JSP?</a></li>
<li><a href="#Как-закомментировать-код-в-jsp">Как закомментировать код в JSP?</a></li>
<li><a href="#Какие-существуют-основные-типы-тегов-jsp">Какие существуют основные типы тегов JSP?</a></li>
<li><a href="#Что-вы-знаете-о-действиях-jsp-action-tag-и-jsp-action-elements">Что вы знаете о действиях JSP (<em>Action tag</em> и <em>JSP Action Elements</em>).</a></li>
<li><a href="#Взаимодействие-jsp---сервлет---jsp">Взаимодействие <em>JSP - сервлет - JSP</em>.</a></li>
<li><a href="#Какие-области-видимости-переменных-существуют-в-jsp">Какие области видимости переменных существуют в JSP?</a></li>
<li><a href="#Какие-неявные-внутренние-объекты-и-методы-есть-на-jsp-странице">Какие неявные, внутренние объекты и методы есть на JSP странице?</a></li>
<li><a href="#Какие-неявные-объекты-не-доступны-в-обычной-jsp-странице">Какие неявные объекты не доступны в обычной JSP странице?</a></li>
<li><a href="#Что-вы-знаете-о-pagecontext-и-какие-преимущества-его-использования">Что вы знаете о <code>PageContext</code> и какие преимущества его использования?</a></li>
<li><a href="#Как-сконфигурировать-параметры-инициализации-для-jsp">Как сконфигурировать параметры инициализации для JSP?</a></li>
<li><a href="#Почему-не-рекомендуется-использовать-скриплеты-скриптовые-элементы-в-jsp">Почему не рекомендуется использовать скриплеты (скриптовые элементы) в JSP?</a></li>
<li><a href="#Можно-ли-определить-класс-внутри-jsp-страницы">Можно ли определить класс внутри JSP страницы?</a></li>
<li><a href="#Что-вы-знаете-о-Языке-выражений-jsp-jsp-expression-language--el">Что вы знаете о Языке выражений JSP (JSP Expression Language – EL)?</a></li>
<li><a href="#Какие-типы-el-операторов-вы-знаете">Какие типы EL операторов вы знаете?</a></li>
<li><a href="#Назовите-неявные-внутренние-объекты-jsp-el-и-их-отличия-от-объектов-jsp">Назовите неявные, внутренние объекты JSP EL и их отличия от объектов JSP.</a></li>
<li><a href="#Как-отключить-возможность-использования-el-в-jsp">Как отключить возможность использования EL в JSP?</a></li>
<li><a href="#Как-узнать-тип-http-метода-используя-jsp-el">Как узнать тип HTTP метода используя JSP EL?</a></li>
<li><a href="#Что-такое-jstl-jsp-standard-tag-library">Что такое <em>JSTL (JSP Standard tag library)</em>?</a></li>
<li><a href="#Из-каких-групп-тегов-состоит-библиотека-jstl">Из каких групп тегов состоит библиотека <em>JSTL</em>?</a></li>
<li><a href="#Какая-разница-между-cset-и-jspusebean">Какая разница между <code>&lt;c:set&gt;</code> и <code>&lt;jsp:useBean&gt;</code>?</a></li>
<li><a href="#Чем-отличается-cimport-от-jspinclude-и-директивы-include-">Чем отличается <code>&lt;c:import&gt;</code> от <code>&lt;jsp:include&gt;</code> и директивы <code>&lt;%@include %&gt;</code>?</a></li>
<li><a href="#Как-можно-расширить-функциональность-jsp">Как можно расширить функциональность JSP?</a></li>
<li><a href="#Что-вы-знаете-о-написании-пользовательских-jsp-тегов">Что вы знаете о написании пользовательских JSP тегов?</a></li>
<li><a href="#Приведите-пример-использования-собственных-тегов">Приведите пример использования собственных тегов.</a></li>
<li><a href="#Как-сделать-перенос-строки-в-html-средствами-jsp">Как сделать перенос строки в HTML средствами JSP?</a></li>
<li><a href="#Почему-не-нужно-конфигурировать-стандартные-jsp-теги-в-webxml">Почему не нужно конфигурировать стандартные JSP теги в <code>web.xml</code>?</a></li>
<li><a href="#Как-можно-обработать-ошибки-jsp-страниц">Как можно обработать ошибки JSP страниц?</a></li>
<li><a href="#Как-происходит-обработка-ошибок-с-помощью-jstl">Как происходит обработка ошибок с помощью JSTL?</a></li>
<li><a href="#Как-конфигурируется-jsp-в-дескрипторе-развертывания">Как конфигурируется JSP в дескрипторе развертывания.</a></li>
<li><a href="#Можно-ли-использовать-javascript-на-jsp-странице">Можно ли использовать Javascript на JSP странице?</a></li>
<li><a href="#Всегда-ли-создается-объект-сессии-на-jsp-странице-можно-ли-отключить-его-создание">Всегда ли создается объект сессии на JSP странице, можно ли отключить его создание?</a></li>
<li><a href="#Какая-разница-между-jspwriter-и-сервлетным-printwriter">Какая разница между <code>JSPWriter</code> и сервлетным <code>PrintWriter</code>?</a></li>
<li><a href="#Опишите-общие-практические-принципы-работы-с-jsp">Опишите общие практические принципы работы с JSP.</a></li>
</ul>
<h3 id="_1"><a name="Что-такое-сервлет"></a>Что такое <em>«сервлет»</em>?</h3>
<p><strong>Сервлет</strong> является интерфейсом, реализация которого расширяет функциональные возможности сервера. Сервлет взаимодействует с клиентами посредством принципа запрос-ответ. Хотя сервлеты могут обслуживать любые запросы, они обычно используются для расширения веб-серверов.</p>
<p>Большинство необходимых для создания сервлетов классов и интерфейсов содержатся в пакетах <code>javax.servlet</code> и <code>javax.servlet.http</code>.</p>
<p>Основные методы сервлета:</p>
<ul>
<li><code>public void init(ServletConfig config) throws ServletException</code> запускается сразу после загрузки сервлета в память;</li>
<li><code>public ServletConfig getServletConfig()</code> возвращает ссылку на объект, который предоставляет доступ к информации о конфигурации сервлета;</li>
<li><code>public String getServletInfo()</code> возвращает строку, содержащую информацию о сервлете, например: автор и версия сервлета;</li>
<li><code>public void service(ServletRequest request, ServletResponse response) throws ServletException, java.io.IOException</code> вызывается для обработки каждого запроса;</li>
<li><code>public void destroy()</code> выполняется перед выгрузкой сервлета из памяти.</li>
</ul>
<p>Текущая спецификация - Servlet 3.1 описана в JSR-340 и принята в 2013 году.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="cgi-common-gateway-interface"><a name="В-чем-заключаются-преимущества-технологии-сервлетов-над-cgi-common-gateway-interface"></a>В чем заключаются преимущества технологии сервлетов над CGI (Common Gateway Interface)?</h3>
<ul>
<li>Сервлеты предоставляют лучшую производительность обработки запросов и более эффективное использование памяти за счет использования преимущество многопоточности (на каждый запрос создается новая нить, что быстрее выделения памяти под новый объект для каждого запроса, как это происходит в CGI).</li>
<li>Сервлеты, как платформа и система являются независимыми. Таким образом веб-приложение написанное с использованием сервлетов может быть запущена в любом контейнере сервлетов, реализующим этот стандарт и в любой операционной системе.</li>
<li>Использование сервлетов повышает надежность программы, т.к. контейнер сервлетов самостоятельно заботится о жизненном цикле сервлетов (а значит и за утечками памяти), безопасности и сборщике мусора.</li>
<li>Сервлеты относительно легки в изучении и поддержке, таким образом разработчику необходимо заботиться только о бизнес-логике приложения, а не внутренней реализации веб-технологий.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="-"><a name="Какова-структура-веб-проекта"></a>Какова структура веб-проекта?</h3>
<p><code>src/main/java</code> Исходники приложения/библиотеки</p>
<p><code>src/main/resources</code> Ресурсные файлы приложения/библиотеки</p>
<p><code>src/main/filters</code> Файлы сервлетных фильтров</p>
<p><code>src/main/webapp</code> Исходники веб-приложения</p>
<p><code>src/test/java</code> Исходники тестов</p>
<p><code>src/test/resources</code> Ресурсные файлы тестов</p>
<p><code>src/test/filters</code> Тесты сервлетных фильтров</p>
<p><code>src/it</code> Интеграционные тесты</p>
<p><code>src/assembly</code> Описание сборки</p>
<p><code>src/site</code> Сайт</p>
<p><code>LICENSE.txt</code> Лицензия проекта</p>
<p><code>NOTICE.txt</code> Замечания и определения библиотек зависимостей.</p>
<p><code>README.txt</code> Описание проекта</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_2"><a name="Что-такое-контейнер-сервлетов"></a>Что такое <em>«контейнер сервлетов»</em>?</h3>
<p><strong>Контейнер сервлетов</strong> — программа, представляющая собой сервер, который занимается системной поддержкой сервлетов и обеспечивает их жизненный цикл в соответствии с правилами, определёнными в спецификациях. Может работать как полноценный самостоятельный веб-сервер, быть поставщиком страниц для другого веб-сервера, или интегрироваться в Java EE сервер приложений.</p>
<p>Контейнер сервлетов обеспечивает обмен данными между сервлетом и клиентами, берёт на себя выполнение таких функций, как создание программной среды для функционирующего сервлета, идентификацию и авторизацию клиентов, организацию сессии для каждого из них.</p>
<p>Наиболее известные реализации контейнеров сервлетов:</p>
<ul>
<li>Apache Tomcat</li>
<li>Jetty</li>
<li>JBoss</li>
<li>WildFly</li>
<li>GlassFish</li>
<li>IBM WebSphere</li>
<li>Oracle Weblogic</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_3"><a name="Зачем-нужны-сервера-приложений-если-есть-контейнеры-сервлетов"></a>Зачем нужны сервера приложений, если есть контейнеры сервлетов?</h3>
<ul>
<li><strong>Пулы соединений с БД</strong> <ul>
<li>Возможность периодического тестирования доступности СУБД и обновления соединения в случае восстановления после сбоев</li>
<li>Замена прав доступа при подключении</li>
<li>Балансировка нагрузки между несколькими СУБД, определение доступность или недоступность того или иного узла</li>
<li>Защита пула соединений от некорректного кода в приложении, которое по недосмотру не возвращает соединения, просто отбирая его после какого-то таймаута.</li>
</ul>
</li>
<li><strong>JMS</strong> <ul>
<li>Доступность сервера очередей сообщений "из-коробки". </li>
<li>Возможность кластеризации очередей, т.е. доступность построения распределенных очередей, расположенных сразу на нескольких серверах, что существенно увеличивает масштабируемость и доступность приложения </li>
<li>Возможность миграции очередей - в случае падения одного из серверов, его очереди автоматически перемещаются на другой, сохраняя необработанные сообщения. </li>
<li>В некоторых серверах приложений поддерживается <em>Unit-of-Order</em> - гарантированный порядок обработки сообщений, удовлетворяющих некоторым критериям.</li>
</ul>
</li>
<li><strong>JTA</strong> Встроенная поддержка распределенных транзакций для обеспечения согласованности данных в разные СУБД или очереди. </li>
<li><strong>Безопасность</strong> <ul>
<li>Наличие множества провайдеров безопасности и аутентификации: <ul>
<li>во встроенном или внешнем <em>LDAP-сервере</em></li>
<li>в базе данных</li>
<li>в различных <em>Internet-directory</em> (специализированных приложениях для управления правами доступа)</li>
</ul>
</li>
<li>Доступность <em>Single-Sign-On</em> (возможности разделения пользовательской сессии между приложениями) посредством <em>Security Assertion Markup Language (SAML) 1/2</em> или <em>Simple and Protected Negotiate (SPNEGO)</em> и <em>Kerberos</em>: один из серверов выступает в роли базы для хранения пользователей, все другие сервера при аутентификации пользователя обращаются к этой базе.</li>
<li>Возможность авторизации посредством протокола <em>eXtensible Access Control Markup Language (XACML)</em>, позволяющего описывать довольно сложные политики (например, приложение доступно пользователю только в рабочее время). </li>
<li>Кластеризация всего вышеперечисленного</li>
</ul>
</li>
<li><strong>Масштабируемость и высокая доступность</strong> Для контейнера сервлетов обычно так же возможно настроить кластеризацию, но она будет довольно примитивной, так как в случае его использования имееются следующие ограничения: <ul>
<li>Сложность передачи пользовательской сессии из одного <em>центра обработки данных (ЦоД)</em> в другой через Интернет </li>
<li>Отсутствие возможности эффективно настроить репликации сессий на большом (состоящем из 40-50 экземпляров серверов) кластере</li>
<li>Невозможность обеспечения миграции экземпляров приложения на другой сервер</li>
<li>Недоступность механизмов автоматического мониторинга и реакции на ошибки</li>
</ul>
</li>
<li><strong>Управляемость</strong> <ul>
<li>Присутствие единого центра управления, т.н. <em>AdminServer</em> и аналога <em>NodeManager</em>’а, обеспечивающего<ul>
<li>Возможность одновременного запуска нескольких экземпляров сервера</li>
<li>Просмотр состояния запущенных экземпляров сервера, обработчиков той или иной очереди, на том или ином сервере, количества соединений с той или иной БД</li>
</ul>
</li>
</ul>
</li>
<li><strong>Административный канал и развертывание в промышленном режиме</strong> Некоторые сервера приложений позволяют включить так называемый "административный канал" - отдельный порт, запросы по которому имеют приоритет.<ul>
<li>Просмотр состояния (выполняющихся транзакций, потоков, очередей) в случае недоступности ("зависания") сервера</li>
<li>Обновление приложений "на-лету", без простоя: <ul>
<li>добавление на сервер новой версии приложения в "закрытом" режиме, пока пользователи продолжают работать со предыдущей</li>
<li>тестирование корректности развертывания новой версии</li>
<li>"скрытый" перевод на использование новой версии всех пользователей</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_4"><a name="Как-контейнер-сервлетов-управляет-жизненным-циклом-сервлета-когда-и-какие-методы-вызываются"></a>Как контейнер сервлетов управляет жизненным циклом сервлета, когда и какие методы вызываются?</h3>
<p>Контейнер сервлетов управляет четырьмя фазами жизненного цикла сервлета:</p>
<ul>
<li>Загрузка класса сервлета — когда контейнер получает запрос для сервлета, то происходит загрузка класса сервлета в память и вызов его конструктора без параметров.</li>
<li>Инициализация класса сервлета — после того как класс загружен контейнер инициализирует объект <code>ServletConfig</code> для этого сервлета и внедряет его через <code>init()</code> метод. Это и есть место где сервлет класс преобразуется из обычного класса в сервлет.</li>
<li>Обработка запросов — после инициализации сервлет готов к обработке запросов. Для каждого запроса клиента сервлет контейнер порождает новый поток и вызывает метод <code>service()</code> путем передачи ссылки на объекты ответа и запроса.</li>
<li>Удаление - когда контейнер останавливается или останавливается приложение, то контейнер сервлетов уничтожает классы сервлетов путем вызова <code>destroy()</code> метода.</li>
</ul>
<p>Таким образом, сервлет создаётся при первом обращении к нему и живёт на протяжении всего времени работы приложения (в отличии от объектов классов, которые уничтожаются сборщиком мусора после того как они уже не используются) и весь жизненный цикл сервлета можно описать как последовательность вызова методов:</p>
<ul>
<li><code>public void init(ServletConfig config)</code> – используется контейнером для инициализации сервлета. Вызывается один раз за время жизни сервлета.</li>
<li><code>public void service(ServletRequest request, ServletResponse response)</code> – вызывается для каждого запроса. Метод не может быть вызван раньше выполнения <code>init()</code> метода.</li>
<li><code>public void destroy()</code> – вызывается для уничтожения сервлета (один раз за время жизни сервлета).</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_5"><a name="Что-такое-дескриптор-развертывания"></a>Что такое <em>«дескриптор развертывания»</em>?</h3>
<p>Дескриптор развертывания — это конфигурационный файл артефакта, который будет развернут в контейнере сервлетов. В спецификации Java Platform, Enterprise Edition дескриптор развертывания описывает то, как компонент, модуль или приложение (такое, как веб-приложение или приложение предприятия) должно быть развернуто.</p>
<p>Этот конфигурационный файл указывает параметры развертывания для модуля или приложения с определенными настройками, параметры безопасности и описывает конкретные требования к конфигурации. Для синтаксиса файлов дескриптора развертывания используется язык XML.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;web-app</span> <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;</span>
    <span class="na">version=</span><span class="s">&quot;2.4&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;display-name&gt;</span>Display name.<span class="nt">&lt;/display-name&gt;</span>
    <span class="nt">&lt;description&gt;</span>Description text.<span class="nt">&lt;/description&gt;</span>

    <span class="nt">&lt;servlet&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>ExampleServlet<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;servlet-class&gt;</span>xyz.company.ExampleServlet<span class="nt">&lt;/servlet-class&gt;</span>
        <span class="nt">&lt;load-on-startup&gt;</span>1<span class="nt">&lt;/load-on-startup&gt;</span>
        <span class="nt">&lt;init-param&gt;</span>
            <span class="nt">&lt;param-name&gt;</span>configuration<span class="nt">&lt;/param-name&gt;</span>
            <span class="nt">&lt;param-value&gt;</span>default<span class="nt">&lt;/param-value&gt;</span>
        <span class="nt">&lt;/init-param&gt;</span>       
    <span class="nt">&lt;/servlet&gt;</span>

    <span class="nt">&lt;servlet-mapping&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>ExampleServlet<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>/example<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/servlet-mapping&gt;</span>

    <span class="nt">&lt;servlet&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>ExampleJSP<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;jsp-file&gt;</span>/sample/Example.jsp<span class="nt">&lt;/jsp-file&gt;</span>
    <span class="nt">&lt;/servlet&gt;</span>

    <span class="nt">&lt;context-param&gt;</span>
        <span class="nt">&lt;param-name&gt;</span>myParam<span class="nt">&lt;/param-name&gt;</span>
        <span class="nt">&lt;param-value&gt;</span>the value<span class="nt">&lt;/param-value&gt;</span>
    <span class="nt">&lt;/context-param&gt;</span>
<span class="nt">&lt;/web-app&gt;</span>
</code></pre></div>


<p>Для веб-приложений дескриптор развертывания должен называться <code>web.xml</code> и находиться в директории <code>WEB-INF</code>, в корне веб-приложения. Этот файл является стандартным дескриптором развертывания, определенным в спецификации. Также есть и другие типы дескрипторов, такие, как файл дескриптора развертывания <code>sun-web.xml</code>, содержащий специфичные для <em>Sun GlassFish Enterprise Server</em> данные для развертывания именно для этого сервера приложений или файл <code>application.xml</code> в директории <code>META-INF</code> для приложений <em>J2EE</em>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_6"><a name="Какие-действия-необходимо-проделать-при-создании-сервлетов"></a>Какие действия необходимо проделать при создании сервлетов?</h3>
<p>Чтобы создать сервлет <code>ExampleServlet</code>, необходимо описать его в дескрипторе развёртывания:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;servlet-mapping&gt;</span>
    <span class="nt">&lt;servlet-name&gt;</span>ExampleServlet<span class="nt">&lt;/servlet-name&gt;</span>
    <span class="nt">&lt;url-pattern&gt;</span>/example<span class="nt">&lt;/url-pattern&gt;</span>
<span class="nt">&lt;/servlet-mapping&gt;</span>
<span class="nt">&lt;servlet&gt;</span>
    <span class="nt">&lt;servlet-name&gt;</span>ExampleServlet<span class="nt">&lt;/servlet-name&gt;</span>
    <span class="nt">&lt;servlet-class&gt;</span>xyz.company.ExampleServlet<span class="nt">&lt;/servlet-class&gt;</span>
    <span class="nt">&lt;init-param&gt;</span>
        <span class="nt">&lt;param-name&gt;</span>config<span class="nt">&lt;/param-name&gt;</span>
        <span class="nt">&lt;param-value&gt;</span>default<span class="nt">&lt;/param-value&gt;</span>
    <span class="nt">&lt;/init-param&gt;</span>       
<span class="nt">&lt;/servlet&gt;</span>
</code></pre></div>


<p>Затем создать класс <code>xyz.company.ExampleServlet</code> путём наследования от <code>HttpServlet</code> и реализовать логику его работы в методе <code>service()</code> или методах <code>doGet()</code>/<code>doPost()</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="service"><a name="В-каком-случае-требуется-переопределять-метод-service"></a>В каком случае требуется переопределять метод <code>service()</code>?</h3>
<p>Метод <code>service()</code> переопределяется, когда необходимо, чтобы сервлет обрабатывал все запросы (и <code>GET</code>, и <code>POST</code>) в одном методе.</p>
<p>Когда контейнер сервлетов получает запрос клиента, то происходит вызов метода <code>service()</code>, который в зависимости от поступившего запроса вызывает или метод <code>doGet()</code> или метод <code>doPost()</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_7"><a name="Есть-ли-смысл-определять-для-сервлета-конструктор-Каким-образом-лучше-инициализировать-данные"></a>Есть ли смысл определять для сервлета конструктор? Каким образом лучше инициализировать данные?</h3>
<p>Большого смысла определять для сервлета конструктор нет, т.к. инициализировать данные лучше не в конструкторе, а переопределив метод <code>init()</code>, в котором имеется возможность доступа к параметрам инициализации сервлета через использование объекта <code>ServletConfig</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="init"><a name="Почему-необходимо-переопределить-только-init-метод-без-аргументов"></a>Почему необходимо переопределить только <code>init()</code> метод без аргументов?</h3>
<p>Метод <code>init()</code> переопределяется, если необходимо инициализировать какие-то данные до того как сервлет начнет обрабатывать запросы. </p>
<p>При переопределении метода <code>init(ServletConfig config)</code>, первым должен быть вызван метод <code>super(config)</code>, который обеспечит вызов метода <code>init(ServletConfig config)</code> суперкласса. <code>GenericServlet</code> предоставляет другой метод <code>init()</code> без параметров, который будет вызываться в конце метода <code>init(ServletConfig config)</code>.</p>
<p>Необходимо использовать переопределенный метод <code>init()</code> без параметров для инициализации данных во избежание каких-либо проблем, например ошибку, когда вызов <code>super()</code> не указан в переопределенном <code>init(ServletConfig config)</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_8"><a name="Какие-наиболее-распространенные-задачи-выполняются-в-контейнере-сервлетов"></a>Какие наиболее распространенные задачи выполняются в контейнере сервлетов?</h3>
<ul>
<li>Поддержка обмена данными. Контейнер сервлетов предоставляет легкий способ обмена данными между веб клиентом (браузером) и сервлетом. Благодаря контейнеру нет необходимости создавать слушателя сокета на сервере для отслеживания запросов от клиента, а так же разбирать запрос и генерировать ответ. Все эти важные и комплексные задачи решаются с помощью контейнера и разработчик может сосредоточиться на бизнес логике приложения.</li>
<li>Управление жизненным циклом сервлетов и ресурсов. Начиная от загрузки сервлета в память, инициализации, внедрения методов и заканчивая уничтожением сервлета. Контейнер так же предоставляет дополнительные утилиты, например JNDI, для управления пулом ресурсов.</li>
<li>Поддержка многопоточности. Контейнер самостоятельно создает новую нить для каждого запроса и предоставляет ей запрос и ответ для обработки. Таким образом сервлет не инициализируется заново для каждого запроса и тем самым сохраняет память и уменьшает время до обработки запроса.</li>
<li>Поддержка JSP. JSP классы не похожи на стандартные классы джавы, но контейнер сервлетов преобразует каждую JSP в сервлет и далее управляется контейнером как обычным сервлетом.</li>
<li>Различные задачи. Контейнер сервлетов управляет пулом ресурсов, памятью приложения, сборщиком мусора. Предоставляются возможности настройки безопасности и многое другое.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_9"><a name="Что-вы-знаете-о-сервлетных-фильтрах"></a>Что вы знаете о <em>сервлетных фильтрах</em>?</h3>
<p><strong>Сервлетный фильтр</strong> - это Java-код, пригодный для повторного использования и позволяющий преобразовать содержание HTTP-запросов, HTTP-ответов и информацию, содержащуюся в заголовках HTML. Сервлетный фильтр занимается предварительной обработкой запроса, прежде чем тот попадает в сервлет, и/или последующей обработкой ответа, исходящего из сервлета.</p>
<p>Сервлетные фильтры могут:</p>
<ul>
<li>перехватывать инициацию сервлета прежде, чем сервлет будет инициирован;</li>
<li>определить содержание запроса прежде, чем сервлет будет инициирован;</li>
<li>модифицировать заголовки и данные запроса, в которые упаковывается поступающий запрос;</li>
<li>модифицировать заголовки и данные ответа, в которые упаковывается получаемый ответ;</li>
<li>перехватывать инициацию сервлета после обращения к сервлету.</li>
</ul>
<p>Сервлетный фильтр может быть конфигурирован так, что он будет работать с одним сервлетом или группой сервлетов. Основой для формирования фильтров служит интерфейс <code>javax.servlet.Filter</code>, который реализует три метода:</p>
<ul>
<li><code>void init(FilterConfig config) throws ServletException</code>;</li>
<li><code>void destroy()</code>;</li>
<li><code>void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException</code>;</li>
</ul>
<p>Метод <code>init()</code> вызывается прежде, чем фильтр начинает работать,и настраивает конфигурационный объект фильтра. Метод <code>doFilter()</code> выполняет непосредственно работу фильтра. Таким образом, сервер вызывает <code>init()</code> один раз, чтобы запустить фильтр в работу, а затем вызывает <code>doFilter()</code> столько раз, сколько запросов будет сделано непосредственно к данному фильтру. После того, как фильтр заканчивает свою работу, вызывается метод <code>destroy()</code>.</p>
<p>Интерфейс <code>FilterConfig</code> содержит метод для получения имени фильтра, его параметров инициации и контекста активного в данный момент сервлета. С помощью своего метода <code>doFilter()</code> каждый фильтр получает текущий запрос <code>request</code> и ответ <code>response</code>, а также <code>FilterChain</code>, содержащий список фильтров, предназначенных для обработки. В <code>doFilter()</code> фильтр может делать с запросом и ответом всё, что ему захочется - собирать данные или упаковывать объекты для придания им нового поведения. Затем фильтр вызывает <code>chain.doFilter()</code>, чтобы передать управление следующему фильтру. После возвращения этого вызова фильтр может по окончании работы своего метода <code>doFilter()</code> выполнить дополнительную работу над полученным ответом. К примеру, сохранить регистрационную информацию об этом ответе.</p>
<p>После того, как класс-фильтр откомпилирован, его необходимо установить в контейнер и <em>«приписать» (map)</em> к одному или нескольким сервлетам. Объявление и подключение фильтра отмечается в дескрипторе развёртывания <code>web.xml</code> внутри элементов <code>&lt;filter&gt;</code> и <code>&lt;filter-mapping&gt;</code>. Для подключение фильтра к сервлету необходимо использовать вложенные элементы <code>&lt;filter-name&gt;</code> и <code>&lt;servlet-name&gt;</code>.</p>
<blockquote>
<p>Объявление класс-фильтра <code>FilterConnect</code> с именем <code>FilterName</code>:</p>
</blockquote>
<div class="highlight"><pre><span></span><code>  <span class="nt">&lt;filter&gt;</span>
        <span class="nt">&lt;filter-name&gt;</span>FilterName<span class="nt">&lt;/filter-name&gt;</span>
        <span class="nt">&lt;filter-class&gt;</span>FilterConnect<span class="nt">&lt;/filter-class&gt;</span>
        <span class="nt">&lt;init-param&gt;</span>
                <span class="c">&lt;!--- фильтр имеет параметр инициализации `active`, которому присваивается значение `true`. --&gt;</span>
                <span class="nt">&lt;param-name&gt;</span>active<span class="nt">&lt;/param-name&gt;</span>
                <span class="nt">&lt;param-value&gt;</span>true<span class="nt">&lt;/param-true&gt;</span>
        <span class="nt">&lt;/init-param&gt;</span>
  <span class="nt">&lt;/filter&gt;</span>
</code></pre></div>


<blockquote>
<p>Подключение фильтра <code>FilterName</code> к сервлету <code>ServletName</code>:</p>
</blockquote>
<div class="highlight"><pre><span></span><code>  <span class="nt">&lt;filter-mapping&gt;</span>
        <span class="nt">&lt;filter-name&gt;</span>FilterName<span class="nt">&lt;/filter-name&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>ServletName<span class="nt">&lt;/servlet-name&gt;</span>
  <span class="nt">&lt;/filter-mapping&gt;</span>
</code></pre></div>


<p>Для связи фильтра со страницами HTML или группой сервлетов необходимо использовать тег <code>&lt;url-pattern&gt;</code>:</p>
<blockquote>
<p>Подключение фильтра <code>FilterName</code> ко всем вызовам .html страниц</p>
</blockquote>
<div class="highlight"><pre><span></span><code>  <span class="nt">&lt;filter-mapping&gt;</span>
          <span class="nt">&lt;filter-name&gt;</span>FilterName<span class="nt">&lt;/filter-name&gt;</span>
          <span class="nt">&lt;url-pattern&gt;</span>*.html<span class="nt">&lt;/url-pattern&gt;</span>
  <span class="nt">&lt;/filter-mapping&gt;</span>
</code></pre></div>


<p>Порядок, в котором контейнер строит цепочку фильтров для запроса определяется следующими правилами:</p>
<ul>
<li>цепочка, определяемая <code>&lt;url-pattern&gt;</code>, выстраивается в том порядке, в котором встречаются соответствующие описания фильтров в <code>web.xml</code>;</li>
<li>последовательность сервлетов, определенных с помощью <code>&lt;servlet-name&gt;</code>, также выполняется в той последовательности, в какой эти элементы встречаются в дескрипторе развёртывания <code>web.xml</code>.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="listener"><a name="Зачем-в-сервлетах-используются-различные-listener"></a>Зачем в сервлетах используются различные <em>listener</em>?</h3>
<p><strong>Listener (слушатель)</strong> работает как триггер, выполняя определённые действия при наступлении какого-либо события в жизненном цикле сервлета.</p>
<p>Слушатели, разделённые по области видимости (scope):</p>
<ul>
<li><em>Request</em>:<ul>
<li><code>ServletRequestListener</code> используется для того, чтобы поймать момент создания и уничтожения запроса;</li>
<li><code>ServletRequestAttributeListener</code> используется для прослушивании событий происходящих с атрибутами запроса.</li>
</ul>
</li>
<li><em>Context</em>:<ul>
<li><code>ServletContextListener</code> позволяет поймать момент, когда контекст инициализируется либо уничтожается;</li>
<li><code>ServletContextAttributeListener</code> используется для прослушивании событий происходящих с атрибутами в контексте.</li>
</ul>
</li>
<li><em>Session</em>:<ul>
<li><code>HttpSessionListener</code> позволяет поймать момент создания и уничтожения сессии;</li>
<li><code>HttpSessionAttributeListener</code> используется при прослушивании событий происходящих с атрибутами в сессии;</li>
<li><code>HttpSessionActivationListener</code> используется в случае, если происходит миграция сессии между различными JVM в распределённых приложениях;</li>
<li><code>HttpSessionBindingListener</code> так же используется для прослушивания событий происходящих с атрибутами в сессии. Разница между <code>HttpSessionAttributeListener</code> и <code>HttpSessionBindingListener</code> слушателями: первый декларируется в <code>web.xml</code>; экземпляр класса создается контейнером автоматически в единственном числе и применяется ко всем сессиям; второй: экземпляр класса должен быть создан и закреплён за определённой сессией «вручную», количество экземпляров также регулируется самостоятельно.</li>
</ul>
</li>
</ul>
<p>Подключение слушателей:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;web-app&gt;</span>
    ...
    <span class="nt">&lt;listener&gt;</span>
        <span class="nt">&lt;listener-class&gt;</span>xyz.company.ExampleListener<span class="nt">&lt;/listener-class&gt;</span>
    <span class="nt">&lt;/listener&gt;</span>
    ...
<span class="nt">&lt;/web-app&gt;</span>
</code></pre></div>


<p><code>HttpSessionBindingListener</code> подключается в качестве атрибута непосредственно в сессию, т.е., чтобы его подключить необходимо:</p>
<ul>
<li>создать экземпляр класса реализующего этот интерфейс;</li>
<li>положить созданный экземпляр в сессию при помощи <code>setAttribute(String, Object)</code>.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_10"><a name="Когда-стоит-использовать-фильтры-сервлетов-а-когда-слушателей"></a>Когда стоит использовать фильтры сервлетов, а когда слушателей?</h3>
<p>Следует использовать фильтры, если необходимо обрабатывать входящие или исходящие данные (например: для аутентификации, преобразования формата, компрессии, шифрования и т.д.), в случае, когда необходимо реагировать на события - лучше применять слушателей.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_11"><a name="Как-реализовать-запуск-сервлета-одновременно-с-запуском-приложения"></a>Как реализовать запуск сервлета одновременно с запуском приложения?</h3>
<p>Контейнер сервлетов обычно загружает сервлет по первому запросу клиента.</p>
<p>Если необходимо загрузить сервлет прямо на старте приложения (например если загрузка сервлета происходит длительное время) следует использовать элемент <code>&lt;load-on-startup&gt;</code> в дескрипторе или аннотацию <code>@loadOnStartup</code> в коде сервлета, что будет указывать на необходимость загрузки сервлета при запуске.</p>
<p>Если целочисленное значение этого параметра отрицательно, то сервлет будет загружен при запросе клиента. В противном случае - загрузится на старте приложения, при этом, чем число меньше, тем раньше в очереди на загрузку он окажется.</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;servlet&gt;</span>
    <span class="nt">&lt;servlet-name&gt;</span>ExampleServlet<span class="nt">&lt;/servlet-name&gt;</span>
    <span class="nt">&lt;servlet-class&gt;</span>xyz.company.ExampleServlet<span class="nt">&lt;/servlet-class&gt;</span>
    <span class="nt">&lt;load-on-startup&gt;</span>1<span class="nt">&lt;/load-on-startup&gt;</span>
<span class="nt">&lt;/servlet&gt;</span>
</code></pre></div>


<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_12"><a name="Как-обработать-в-приложении-исключения-выброшенные-другим-сервлетом"></a>Как обработать в приложении исключения, выброшенные другим сервлетом?</h3>
<p>Когда приложение выбрасывет исключение контейнер сервлетов обрабатывает его и создаёт ответ в формате HTML. Это аналогично тому что происходит при кодах ошибок вроде 404, 403 и т.д.</p>
<p>В дополнении к этому существует возможность написания собственных сервлетов для обработки исключений и ошибок с указанием их в дескрипторе развертывания:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;error-page&gt;</span>
    <span class="nt">&lt;error-code&gt;</span>404<span class="nt">&lt;/error-code&gt;</span>
    <span class="nt">&lt;location&gt;</span>/AppExceptionHandler<span class="nt">&lt;/location&gt;</span>
<span class="nt">&lt;/error-page&gt;</span>

<span class="nt">&lt;error-page&gt;</span>
    <span class="nt">&lt;exception-type&gt;</span>javax.servlet.ServletException<span class="nt">&lt;/exception-type&gt;</span>
    <span class="nt">&lt;location&gt;</span>/AppExceptionHandler<span class="nt">&lt;/location&gt;</span>
<span class="nt">&lt;/error-page&gt;</span>
</code></pre></div>


<p>Основная задача таких сервлетов - обработать ошибку/исключение и сформировать понятный ответ пользователю. Например, предоставить ссылку на главную страницу или же описание ошибки.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="servletconfig"><a name="Что-представляет-собой-servletconfig"></a>Что представляет собой <code>ServletConfig</code>?</h3>
<p>Интерфейс <code>javax.servlet.ServletConfig</code> используется для передачи сервлету конфигурационной информации. Каждый сервлет имеет свой собственный экземпляр объекта <code>ServletConfig</code>, создаваемый контейнером сервлетов.</p>
<p>Для установки параметров конфигурации используются параметры <code>init-param</code> в <code>web.xml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;servlet&gt;</span>
    <span class="nt">&lt;servlet-name&gt;</span>ExampleServlet<span class="nt">&lt;/servlet-name&gt;</span>
    <span class="nt">&lt;servlet-class&gt;</span>xyz.company.ExampleServlet<span class="nt">&lt;/servlet-class&gt;</span>
    <span class="nt">&lt;init-param&gt;</span>
        <span class="nt">&lt;param-name&gt;</span>exampleParameter<span class="nt">&lt;/param-name&gt;</span>
        <span class="nt">&lt;param-value&gt;</span>parameterValue<span class="nt">&lt;/param-value&gt;</span>
    <span class="nt">&lt;/init-param&gt;</span>
<span class="nt">&lt;/servlet&gt;</span>
</code></pre></div>


<p>или аннотации <code>@WebInitParam</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@WebServlet</span><span class="p">(</span>
    <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">&quot;/example&quot;</span><span class="p">,</span>
    <span class="n">initParams</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nd">@WebInitParam</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;exampleParameter&quot;</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">&quot;parameterValue&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</code></pre></div>


<p>Для получения <code>ServletConfig</code> сервлета используется метод <code>getServletConfig()</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="servletcontext"><a name="Что-представляет-собой-servletcontext"></a>Что представляет собой <code>ServletContext</code>?</h3>
<p>Уникальный (в рамках веб-приложения) объект <code>ServletContext</code> реализует интерфейс <code>javax.servlet.ServletContext</code> и предоставляет сервлетам доступ к параметрам этого веб-приложения.  Для предоставления доступа используется элемент <code>&lt;context-param&gt;</code> в <code>web.xml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;web-app&gt;</span>
    ...
    <span class="nt">&lt;context-param&gt;</span>
        <span class="nt">&lt;param-name&gt;</span>exampleParameter<span class="nt">&lt;/param-name&gt;</span>
        <span class="nt">&lt;param-value&gt;</span>parameterValue<span class="nt">&lt;/param-value&gt;</span>
    <span class="nt">&lt;/context-param&gt;</span>
    ...
<span class="nt">&lt;/web-app&gt;</span>
</code></pre></div>


<p>Объект <code>ServletContext</code> можно получить с помощью метода <code>getServletContext()</code> у интерфейса <code>ServletConfig</code>. Контейнеры сервлетов так же могут предоставлять контекстные объекты, уникальные для группы сервлетов. Каждая из групп будет связана со своим набором URL-путей хоста. В спецификации Servlet 3 <code>ServletContext</code> был расширен и теперь предоставляет возможности программного добавления слушателей и фильтров в приложение. Так же у этого интерфейса имеется множество полезных методов таких как  <code>getServerInfo()</code>, <code>getMimeType()</code>, <code>getResourceAsStream()</code> и т.д.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="servletcontext-servletconfig"><a name="В-чем-отличия-servletcontext-и-servletconfig"></a>В чем отличия <code>ServletContext</code> и <code>ServletConfig</code>?</h3>
<ul>
<li><code>ServletConfig</code> уникален для сервлета, а <code>ServletContext</code> - для приложения;</li>
<li><code>ServletConfig</code> используется для предоставления параметров инициализации конкретному сервлету, а <code>ServletContext</code> для предоставления параметров инициализации для всех сервлетов приложения;</li>
<li>для <code>ServletConfig</code> возможности модифицировать атрибуты отсутствуют, атрибуты в объекте <code>ServletContext</code> можно изменять.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="servletresponse"><a name="Для-чего-нужен-интерфейс-servletresponse"></a>Для чего нужен интерфейс <code>ServletResponse</code>?</h3>
<p>Интерфейс <code>ServletResponse</code> используется для отправки данных клиенту. Все методы данного инструмента служат именно этой цели:</p>
<ul>
<li><code>String getCharacterEncoding()</code> - возвращает MIME тип кодировки (к примеру - UTF8), в которой будет выдаваться информация;</li>
<li><code>void setLocale(Locale locale)</code>/<code>Locale getLocale()</code> - указывают на язык используемый в документе;</li>
<li><code>ServletOutputStream getOutputStream()</code>/<code>PrintWriter getWriter()</code> - возвращают потоки вывода данных;</li>
<li><code>void setContentLength(int len)</code> - устанавливает значение поля HTTP заголовка <em>Content-Length</em>;</li>
<li><code>void setContentType(String type)</code> - устанавливает значение поля HTTP заголовка <em>Content-Type</em>.</li>
<li><code>void reset()</code> - позволяет сбрасить HTTP заголовок к значениям по-умолчанию, если он ещё не был отправлен</li>
<li>и др.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="servletrequest"><a name="Для-чего-нужен-интерфейс-servletrequest"></a>Для чего нужен интерфейс <code>ServletRequest</code>?</h3>
<p>Интерфейс <code>ServletRequest</code> используется для получения параметров соединения, запроса, а также заголовков, входящего потока данных и т.д.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="request-dispatcher"><a name="Что-такое-request-dispatcher"></a>Что такое <code>Request Dispatcher</code>?</h3>
<p>Интерфейс <code>RequestDispatcher</code> используется для передачи запроса другому ресурсу, при этом существует возможность добавления данных полученных из этого ресурса к собственному ответу сервлета. Так же этот интерфейс используется для внутренней коммуникации между сервлетами в одном контексте.</p>
<p>В интерфейсе объявлено два метода:</p>
<ul>
<li><code>void forward(ServletRequest var1, ServletResponse var2)</code> — передает запрос из сервлета к другому ресурсу (сервлету, JSP или HTML файлу) на сервере.</li>
<li><code>void include(ServletRequest var1, ServletResponse var2)</code> — включает контент ресурса (сервлет, JSP или HTML страница) в ответ.</li>
</ul>
<p>Доступ к интерфейсу можно получить с помощью метода интерфейса <code>ServletContext</code> - <code>RequestDispatcher getRequestDispatcher(String path)</code>, где путь начинающийся с <code>/</code>, интерпретируется относительно текущего корневого пути контекста.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_13"><a name="Как-из-одного-сервлета-вызвать-другой-сервлет"></a>Как из одного сервлета вызвать другой сервлет?</h3>
<p>Для вызова сервлета из того же приложения необходимо использовать механизм внутренней коммуникации сервлетов (<em>inter-servlet communication mechanisms</em>) через вызовы методов <code>RequestDispatcher</code>: </p>
<ul>
<li><code>forward()</code> - передаёт выполнение запроса в другой сервлет;</li>
<li><code>include()</code> - предоставляет возможность включить результат работы другого сервлета в возвращаемый ответ.</li>
</ul>
<p>Если необходимо вызывать сервлет принадлежащий другому приложению, то использовать <code>RequestDispatcher</code> уже не получится, т.к. он определен только для текущего приложения. Для подобных целей необходимо использовать метод <code>ServletResponse</code> - <code>sendRedirect()</code> которому предоставляется полный URL другого сервлета. Для передачи данных между сервлетами можно использовать <code>cookies</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="sendredirect-forward"><a name="Чем-отличается-sendredirect-от-forward"></a>Чем отличается <code>sendRedirect()</code> от <code>forward()</code>?</h3>
<p><strong><code>forward()</code></strong>:</p>
<ul>
<li>Выполняется на стороне сервера;</li>
<li>Запрос перенаправляется на другой ресурс в пределах того же сервера;</li>
<li>Не зависит от протокола клиентского запроса, так как обеспечивается контейнером сервлетов;</li>
<li>Нельзя применять для внедрения сервлета в другой контекст;</li>
<li>Клиент не знает о фактически обрабатываемом ресурсе и URL в строке остается прежним;</li>
<li>Выполняется быстрее метода <code>sendRedirect()</code>;</li>
<li>Определён в интерфейсе <code>RequestDispatcher</code>.</li>
</ul>
<p><strong><code>sendRedirect()</code></strong>:</p>
<ul>
<li>Выполняется на стороне клиента;</li>
<li>Клиенту возвращается ответ <code>302 (redirect)</code> и запрос перенаправляется на другой сервер;</li>
<li>Может использоваться только с клиентами HTTP;</li>
<li>Разрешается применять для внедрения сервлета в другой контекст;</li>
<li>URL адрес изменяется на адрес нового ресурса;</li>
<li>Медленнее <code>forward()</code> т.к. требует создания нового запроса;</li>
<li>Определён в интерфейсе <code>HttpServletResponse</code>.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_14"><a name="Для-чего-используются-атрибуты-сервлетов-и-как-происходит-работа-с-ними"></a>Для чего используются атрибуты сервлетов и как происходит работа с ними?</h3>
<p>Атрибуты сервлетов используются для внутренней коммуникации сервлетов.</p>
<p>В веб-приложении существует возможность работы с атрибутами используя методы <code>setAttribute()</code>, <code>getAttribute()</code>, <code>removeAttribute()</code>, <code>getAttributeNames()</code>, которые предоставлены интерфейсами <code>ServletRequest</code>, <code>HttpSession</code> и <code>ServletContext</code> (для областей видимости <em>request</em>, <em>session</em>, <em>context</em> соответственно).</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="deadlock"><a name="Каким-образом-можно-допустить-в-сервлете-deadlock"></a>Каким образом можно допустить в сервлете deadlock?</h3>
<p>Можно получить блокировку, например, допустив циклические вызовы метода <code>doPost()</code> в методе <code>doGet()</code> и метода <code>doGet()</code> в методе <code>doPost()</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_15"><a name="Как-получить-реальное-расположение-сервлета-на-сервере"></a>Как получить реальное расположение сервлета на сервере?</h3>
<p>Реальный путь к расположению сервлета на сервере можно получить из объекта <code>ServletContext</code>: </p>
<p><code>getServletContext().getRealPath(request.getServletPath())</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_16"><a name="Как-получить-информацию-о-сервере-из-сервлета"></a>Как получить информацию о сервере из сервлета?</h3>
<p>Информацию о сервере можно получить из объекта <code>ServletContext</code>: </p>
<p><code>getServletContext().getServerInfo()</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="ip"><a name="Как-получить-ip-адрес-клиента-на-сервере"></a>Как получить IP адрес клиента на сервере?</h3>
<p>IP адрес клиента можно получить вызвав <code>request.getRemoteAddr()</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="-_1"><a name="Какие-классы-обертки-для-сервлетов-вы-знаете"></a>Какие классы-обертки для сервлетов вы знаете?</h3>
<p>Собственные обработчики <code>ServletRequest</code> и <code>ServletResponse</code> можно реализовать добавив новые или переопределив существующие методы у классов-обёрток <code>ServletRequestWrapper</code> (<code>HttpServletRequestWrapper</code>) и <code>ServletResponseWrapper</code> (<code>HttpServletRequestWrapper</code>).</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="genericservlet-httpservlet"><a name="В-чем-отличия-genericservlet-и-httpservlet"></a>В чем отличия <code>GenericServlet</code> и <code>HttpServlet</code>?</h3>
<p>Абстрактный класс <code>GenericServlet</code> — независимая от используемого протокола реализация интерфейса <code>Servlet</code>, а абстрактный класс <code>HttpServlet</code> в свою очередь расширяет <code>GenericServlet</code> для протокола HTTP..</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="httpservlet"><a name="Почему-httpservlet-класс-объявлен-как-абстрактный"></a>Почему <code>HttpServlet</code> класс объявлен как абстрактный?</h3>
<p>Класс <code>HTTPServlet</code> предоставляет лишь общую реализацию сервлета для HTTP протокола. Реализация ключевых методов <code>doGet()</code> и <code>doPost()</code>, содержащих основную бизнес-логику перекладывается на разработчика и по умолчанию возвращает <code>HTTP 405 Method Not Implemented error</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="httpservlet_1"><a name="Какие-основные-методы-присутствуют-в-классе-httpservlet"></a>Какие основные методы присутствуют в классе <code>HttpServlet</code>?</h3>
<ul>
<li><code>doGet()</code> - для обработки HTTP запросов <code>GET</code>;</li>
<li><code>doPost()</code> - для обработки HTTP запросов <code>POST</code>;</li>
<li><code>doPut()</code> - для обработки HTTP запросов <code>PUT</code>;</li>
<li><code>doDelete()</code> - для обработки HTTP запросов <code>DELETE</code>;</li>
<li><code>doHead()</code> - для обработки HTTP запросов <code>HEAD</code>;</li>
<li><code>doOptions()</code> - для обработки HTTP запросов <code>OPTIONS</code>;</li>
<li><code>doTrace()</code> - для обработки HTTP запросов <code>TRACE</code>.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_17"><a name="Стоит-ли-волноваться-о-многопоточной-безопасности-работая-с-сервлетами"></a>Стоит ли волноваться о многопоточной безопасности работая с сервлетами?</h3>
<p>Методы <code>init()</code> и <code>destroy()</code> вызываются один раз за жизненный цикл сервлета — поэтому по поводу них беспокоиться не стоит. </p>
<p>Методы <code>doGet()</code>, <code>doPost()</code>, <code>service()</code> вызываются на каждый запрос клиента и т.к. сервлеты используют многопоточность, то здесь задумываться о потокобезопасной работе обязательно. При этом правила использования многопоточности остаются теми же: локальные переменные этих методов будут созданы отдельно для каждого потока, а при использовании глобальных разделяемых ресурсов необходимо использовать синхронизацию или другие приёмы многопоточного программирования.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="http"><a name="Какой-метод-http-не-является-неизменяемым"></a>Какой метод HTTP не является неизменяемым?</h3>
<p>HTTP метод называется неизменяемым, если он на один и тот же запрос всегда возвращает одинаковый результат. HTTP методы <code>GET</code>, <code>PUT</code>, <code>DELETE</code>, <code>HEAD</code> и <code>OPTIONS</code> являются неизменяемыми, поэтому необходимо реализовывать приложение так, чтобы эти методы возвращали одинаковый результат постоянно. К изменяемым методам относится метод <code>POST</code>, который и используется для реализации чего-либо, что изменяется при каждом запросе.</p>
<p>К примеру, для доступа к статической HTML странице используется метод <code>GET</code>, т.к. он всегда возвращает одинаковый результат. При необходимости сохранять какую-либо информацию, например в базе данных, нужно использовать <code>POST</code> метод.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_18"><a name="Какие-есть-методы-отправки-данных-с-клиента-на-сервер"></a>Какие есть методы отправки данных с клиента на сервер?</h3>
<ul>
<li><code>GET</code> - используется для запроса содержимого указанного ресурса, изображения или гипертекстового документа. Вместе с запросом могут передаваться дополнительные параметры как часть URI, значения могут выбираться из полей формы или передаваться непосредственно через URL. При этом запросы кэшируются и имеют ограничения на размер. Этот метод является основным методом взаимодействия браузера клиента и веб-сервера. </li>
<li><code>POST</code> - используется для передачи пользовательских данных в содержимом HTTP-запроса на сервер. Пользовательские данные упакованы в тело запроса согласно полю заголовка Content-Type и/или включены в URI запроса. При использовании метода POST под URI подразумевается ресурс, который будет обрабатывать запрос. </li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="get-post"><a name="В-чем-разница-между-методами-get-и-post"></a>В чем разница между методами <code>GET</code> и <code>POST</code>?</h3>
<ul>
<li><code>GET</code> передает данные серверу используя URL, тогда как <code>POST</code> передает данные, используя тело HTTP запроса. Длина URL ограничена 1024 символами, это и будет верхним ограничением для данных, которые можно отослать через <code>GET</code>. <code>POST</code> может отправлять гораздо большие объемы данных. Лимит устанавливается web-server и составляет обычно около 2 Mb.</li>
<li>Передача данных методом <code>POST</code> более безопасна, чем методом <code>GET</code>, так как секретные данные (например пароль) не отображаются напрямую в web-клиенте пользователя, в отличии от URL, который виден почти всегда. Иногда это преимущество превращается в недостаток - вы не сможете послать данные за кого-то другого.</li>
<li><code>GET</code>метод является неизменяемым, тогда как <code>POST</code> — изменяемый.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="printwriter-servletoutputstream"><a name="В-чем-разница-между-printwriter-и-servletoutputstream"></a>В чем разница между <code>PrintWriter</code> и <code>ServletOutputStream</code>?</h3>
<p><code>PrintWriter</code> — класс для работы с символьным потоком, экземпляр которого можно получить через метод <code>ServletResponse</code> <code>getWriter()</code>;</p>
<p><code>ServletOutputStream</code> — класс для работы байтовым потоком. Для получения его экземпляра используется метод <code>ServletResponse</code> <code>getOutputStream()</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="printwriter-servletoutputstream_1"><a name="Можно-ли-одновременно-использовать-в-сервлете-printwriter-и-servletoutputstream"></a>Можно ли одновременно использовать в сервлете <code>PrintWriter</code> и <code>ServletOutputStream</code>?</h3>
<p>Так сделать не получится, т.к. при попытке одновременного вызова <code>getWriter()</code> и <code>getOutputStream()</code> будет выброшено исключение <code>java.lang.IllegalStateException</code> с сообщением, что уже был вызван другой метод.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="singlethreadmodel"><a name="Расскажите-об-интерфейсе-singlethreadmodel"></a>Расскажите об интерфейсе <code>SingleThreadModel</code>.</h3>
<p>Интерфейс <code>SingleThreadModel</code> является маркерным - в нем не объявлен ни один метод, однако, если сервлет реализует этот интерфейс, то метод <code>service()</code> этого сервлета гарантированно не будет одновременно выполняться в двух потоках. Контейнер сервлетов либо синхронизирует обращения к единственному экземпляру, либо обеспечивает поддержку пула экземпляров и перенаправление запроса свободному сервлету.
Другими словами, контейнер гарантирует отсутствие конфликтов при одновременном обращении к переменным или методам экземпляра сервлета. Однако существуют также и другие разделяемые ресурсы, которые даже при использовании этого интерфейса, остаются всё так же доступны обработчикам запросов в других потоках. Т.о. пользы от использования этого интерфейса немного и в спецификации Servlet 2.4 он был объявлен <code>deprecated</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="url-encoding-java"><a name="Что-означает-url-encoding-Как-это-осуществить-в-java"></a>Что означает <em>URL encoding</em>? Как это осуществить в Java?</h3>
<p><strong>URL Encoding</strong> — процесс преобразования данных в форму CGI (Common Gateway Interface), не содержащую пробелов и нестандартных символов, которые заменяются в процессе кодирования на специальные escape-символы. В Java для кодирования строки используется метод <code>java.net.URLEncoder.encode(String str, String unicode)</code>. Обратная операция декодирования возможна через использование метода <code>java.net.URLDecoder.decode(String str, String unicode)</code>. </p>
<blockquote>
<p><code>Hello мир!</code> преобразовывается в <code>Hello%20%D0%BC%D0%B8%D1%80!</code>.</p>
</blockquote>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_19"><a name="Какие-различные-методы-управления-сессией-в-сервлетах-вы-знаете"></a>Какие различные методы управления сессией в сервлетах вы знаете?</h3>
<p>При посещении клиентом Web-ресурса и выполнении вариантов запросов, контекстная информация о клиенте не хранится. В протоколе HTTP нет возможностей для сохранения и изменения информации о предыдущих посещениях клиента. Сеанс (сессия) – соединение между клиентом и сервером, устанавливаемое на определенное время, за которое клиент может отправить на сервер сколько угодно запросов. Сеанс устанавливается непосредственно между клиентом и Web-сервером. Каждый клиент устанавливает с сервером свой собственный сеанс. Сеансы используются для обеспечения хранения данных во время нескольких запросов Web-страницы или на обработку информации, введенной в пользовательскую форму в результате нескольких HTTP-соединений (например, клиент совершает несколько покупок в интернет-магазине; студент отвечает на несколько тестов в системе дистанционного обучения).</p>
<p>Существует несколько способов обеспечения уникального идентификатора сессии:</p>
<ul>
<li><strong>User Authentication</strong> – Предоставление учетных данных самим пользователем в момент аутентификации. Переданная таким образом информация в дальнейшем используется для поддержания сеанса. Это метод не будет работать, если пользователь вошёл в систему одновременно из нескольких мест.</li>
<li><strong>HTML Hidden Field</strong> – Присвоение уникального значения скрытому полю HTML страницы, в момент когда пользователь начинает сеанс. Этот метод не может быть использован со ссылками, потому что нуждается в подтверждении формы со скрытым полем каждый раз во время формирования запроса. Кроме того, это не безопасно, т.к. существует возможность простой подмены такого идентификатора.</li>
<li><strong>URL Rewriting</strong> – Добавление идентификатора сеанса как параметра URL. Достаточно утомительная операция, потому что требует постоянного отслеживания этого идентификатора при каждом запросе или ответе.</li>
<li><strong>Cookies</strong> – Использование небольших фрагментов данных, отправленных web-сервером и хранимых на устройстве пользователя. Данный метод не будет работать, если клиент отключает использование cookies.</li>
<li><strong>Session Management API</strong> – Использование специального API для отслеживания сеанса, построенный на основе и на методах описанных выше и который решает частные проблемы перечисленных способов:<ul>
<li>Чаще всего недостаточно просто отслеживать сессию, необходимо ещё и сохранять какие-либо дополнительные данные о ней, которые могут потребоваться при обработке последующих запросов. Осуществление такого поведения требует много дополнительных усилий.</li>
<li>Все вышеперечисленные методы не являются универсальными: для каждого из них можно подобрать конкретный сценарий, при котором они не будут работать.</li>
</ul>
</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="cookies"><a name="Что-такое-cookies"></a>Что такое <em>cookies</em>?</h3>
<p><strong>Сookies («куки»)</strong> — небольшой фрагмент данных, отправленный web-сервером и хранимый на устройстве пользователя. Всякий раз при попытке открыть страницу сайта, web-клиент пересылает соответствующие этому сайту cookies web-серверу в составе HTTP-запроса. Применяется для сохранения данных на стороне пользователя и на практике обычно используется для:</p>
<ul>
<li>аутентификации пользователя;</li>
<li>хранения персональных предпочтений и настроек пользователя;</li>
<li>отслеживания состояния сеанса доступа пользователя;</li>
<li>ведения разнообразной статистики.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="cookies_1"><a name="Какие-методы-для-работы-с-cookies-предусмотрены-в-сервлетах"></a>Какие методы для работы с cookies предусмотрены в сервлетах?</h3>
<p>Servlet API предоставляет поддержку cookies через класс <code>javax.servlet.http.Cookie</code>:</p>
<ul>
<li>Для получения массива cookies из запроса необходимо воспользоваться методом <code>HttpServletRequest.getCookies()</code>. Методов для добавления cookies в <code>HttpServletRequest</code> не предусмотрено.</li>
<li>Для добавления cookie в ответ используется <code>HttpServletResponse.addCookie(Cookie c)</code>. Метода получения cookies в <code>HttpServletResponse</code> отсутствует.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="url-rewriting"><a name="Что-такое-url-rewriting"></a>Что такое <em>URL Rewriting</em>?</h3>
<p><strong>URL Rewriting</strong> - специальная перезапись (перекодирование) оригинального URL. Данный механизм может использоваться для управления сессией в сервлетах, когда <em>cookies</em> отключены.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="encodeurl-encoderedirecturl"><a name="Зачем-нужны-и-чем-отличаются-методы-encodeurl-и-encoderedirecturl"></a>Зачем нужны и чем отличаются методы <code>encodeURL()</code> и <code>encodeRedirectURL()</code>?</h3>
<p><code>HttpServletResponse.encodeURL()</code> предоставляет способ преобразования URL в HTML гиперссылку с преобразованием спецсимволов и пробелов, а так же добавления <em>session id</em> к URL. Такое поведение аналогично <code>java.net.URLEncoder.encode()</code>, но с добавлением дополнительного параметра <code>jsessionid</code> в конец URL.</p>
<p>Метод <code>HttpServletResponse.encodeRedirectURL()</code> преобразует URL для последующего использования в методе <code>sendRedirect()</code>. </p>
<p>Таким образом для HTML гиперссылок при <em>URL rewriting</em> необходимо использовать <code>encodeURL()</code>, а для URL при перенаправлении - <code>encodeRedirectUrl()</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_20"><a name="Что-такое-сессия"></a>Что такое <em>«сессия»</em>?</h3>
<p><strong>Сессия</strong>  - это сеанс связи между клиентом и сервером, устанавливаемый на определенное время. Сеанс устанавливается непосредственно между клиентом и веб-сервером в момент получения первого запроса к веб-приложению. Каждый клиент устанавливает с сервером свой собственный сеанс, который сохраняется до окончания работы с приложением.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_21"><a name="Как-уведомить-объект-в-сессии-что-сессия-недействительна-или-закончилась"></a>Как уведомить объект в сессии, что сессия недействительна или закончилась?</h3>
<p>Чтобы быть уверенным в том, что объект будет оповещён о прекращении сессии, нужно реализовать интерфейс <code>javax.servlet.http.HttpSessionBindingListener</code>. Два метода этого интерфейса: <code>valueBound()</code> и <code>valueUnbound()</code> используются при добавлении объекта в качестве атрибута к сессии и при уничтожении сессии соответственно.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_22"><a name="Какой-существует-эффективный-способ-удостоверится-что-все-сервлеты-доступны-только-для-пользователя-с-верной-сессией"></a>Какой существует эффективный способ удостоверится, что все сервлеты доступны только для пользователя с верной сессией?</h3>
<p>Сервлет фильтры используются для перехвата всех запросов между контейнером сервлетов и сервлетом. Поэтому логично использовать соответствующий фильтр для проверки необходимой информации (например валидности сессии) в запросе.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="transport-layer-security"><a name="Как-мы-можем-обеспечить-transport-layer-security-для-нашего-веб-приложения"></a>Как мы можем обеспечить <em>transport layer security</em> для нашего веб приложения?</h3>
<p>Для обеспечения <em>transport layer security</em> необходимо настроить поддержку SSL сервлет контейнера. Как это сделать зависит от конкретной реализации сервлет-контейнера.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_23"><a name="Как-организовать-подключение-к-базе-данных-обеспечить-журналирование-в-сервлете"></a>Как организовать подключение к базе данных, обеспечить журналирование в сервлете?</h3>
<p>При работе с большим количеством подключений к базе данных рекомендуется инициализировать их в <em>servlet context listener</em>, а также установить в качестве атрибута контекста для возможности использования другими сервлетами. </p>
<p>Журналирование подключается к сервлету стандартным для логгера способом (например для <em>log4j</em> это может быть property-файл или XML-конфигурация) , а далее эта информация используется при настройке соответствующего <em>context listener</em>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="servlet-3"><a name="Какие-основные-особенности-появились-в-спецификации-servlet-3"></a>Какие основные особенности появились в спецификации <em>Servlet 3</em>?</h3>
<ul>
<li><strong>Servlet Annotations</strong>. До Servlet 3 вся конфигурация содержалась в <code>web.xml</code>, что приводило к ошибкам и неудобству при работе с большим количестве сервлетов. Примеры аннотаций: <code>@WebServlet</code>, <code>@WebInitParam</code>, <code>@WebFilter</code>, <code>@WebListener</code>.</li>
<li><strong>Web Fragments</strong>. Одностраничное веб приложение может содержать множество модулей: все модули прописываются в <code>fragment.xml</code> в папке <code>META-INF\</code>. Это позволяет разделять веб приложение на отдельные модули, собранные как .jar-файлы в отдельной <code>lib\</code> директории.</li>
<li><strong>Динамическое добавление веб компонентов</strong>. Появилась возможность программно добавлять фильтры и слушатели, используя <code>ServletContext</code> объект. Для этого применяются методы <code>addServlet()</code>, <code>addFilter()</code>, <code>addListener()</code>. Используя это нововведение стало доступным построение динамической системы, в которой необходимый объект будет создан и вызван только по необходимости.</li>
<li><strong>Асинхронное выполнение</strong>. Поддержка асинхронной обработки позволяет передать выполнение запроса в другой поток без удержания всего сервера занятым.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="_24"><a name="Какие-способы-аутентификации-доступны-сервлету"></a>Какие способы аутентификации доступны сервлету?</h3>
<p>Спецификация сервлетов определяет четыре типа проверки подлинности:</p>
<ul>
<li><strong>HTTP Basic Authentication</strong> - <code>BASIC</code>. При доступе к закрытым ресурсам появится окно, которое попросит ввести данные для аутентификации.</li>
<li><strong>Form Based Login</strong> - <code>FORM</code>. Используется собственная html форма:</li>
<li><strong>HTTP Digest Authentication</strong> - <code>DIGEST</code>. Цифровая аутентификация с шифрованием.</li>
<li><strong>HTTPS Authentication</strong> - <code>CLIENT-CERT</code>. Аутентификация с помощью клиентского сертификата.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;login-config&gt;</span>
    <span class="nt">&lt;auth-method&gt;</span>FORM<span class="nt">&lt;/auth-method&gt;</span>
    <span class="nt">&lt;form-login-config&gt;</span>
        <span class="nt">&lt;form-login-page&gt;</span>/login.html<span class="nt">&lt;/form-login-page&gt;</span>
        <span class="nt">&lt;form-error-page&gt;</span>/error.html<span class="nt">&lt;/form-error-page&gt;</span>
    <span class="nt">&lt;/form-login-config&gt;</span>
<span class="nt">&lt;/login-config&gt;</span>
</code></pre></div>


<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="java-server-pages-jsp"><a name="Что-такое-java-server-pages-jsp"></a>Что такое <em>Java Server Pages (JSP)</em>?</h3>
<p><strong>JSP (JavaServer Pages)</strong> — платформонезависимая переносимая и легко расширяемая технология разработки веб-приложений, позволяющая веб-разработчикам создавать содержимое, которое имеет как статические, так и динамические компоненты. Страница JSP содержит текст двух типов: статические исходные данные, которые могут быть оформлены в одном из текстовых форматов HTML, SVG, WML, или XML, и <em>JSP-элементы</em>, которые конструируют динамическое содержимое. Кроме этого могут использоваться <em>библиотеки JSP-тегов</em>, а также <em>EL (Expression Language)</em>, для внедрения Java-кода в статичное содержимое JSP-страниц.</p>
<p>Код JSP-страницы транслируется в Java-код сервлета с помощью компилятора JSP-страниц <em>Jasper</em>, и затем компилируется в байт-код JVM. </p>
<p>JSP-страницы загружаются на сервере и управляются Java EE Web Application. Обычно такие страницы упакованы в файловые архивы .war и .ear.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp"><a name="Зачем-нужен-jsp"></a>Зачем нужен JSP?</h3>
<p>JSP расширяет технологию сервлетов обеспечивая возможность создания динамических страницы с HTML подобным синтаксисом.</p>
<p>Хотя создание представлений поддерживается и в сервлетах, но большая часть любой веб-страницы является статической, поэтому код сервлета в таком случае получается чересчур перегруженным, замусоренным и поэтому при его написании легко допустить ошибку. </p>
<p>Еще одним преимуществом JSP является горячее развертывание - возможность заменить одну страницу на другую непосредственно в контейнере без необходимости перекомпилировать весь проект или перезапускать сервер.</p>
<p>Однако рекомендуется избегать написания серьёзной бизнес-логики в JSP и использовать страницу только в качестве представления.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_1"><a name="Опишите-как-обрабатываются-jsp-страницы-начиная-от-запроса-к-серверу-заканчивая-ответом-пользователю"></a>Опишите, как обрабатываются JSP страницы, начиная от запроса к серверу, заканчивая ответом пользователю.</h3>
<p>Когда пользователь переходит по ссылке на страницу <code>page.jsp</code>, он отправляет http-запрос на сервер <code>GET /page.jsp</code>. Затем, на основе этого запроса и текста самой страницы, сервер генерирует java-класс, компилирует его и выполняет полученный сервлет, формирующий ответ пользователю в виде представления этой страницы, который сервер и перенаправляет обратно пользователю.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_2"><a name="Расскажите-об-этапах-фазах-жизненного-цикла-jsp"></a>Расскажите об этапах (фазах) жизненного цикла JSP.</h3>
<p>Если посмотреть код внутри созданной JSP страницы, то он будет выглядеть как HTML и не будет похож на java класс. Конвертацией JSP страниц в HTML код занимается контейнер, который так же создает и сервлет для использования в веб приложении. </p>
<p>Жизненный цикл JSP состоит из нескольких фаз, которыми руководит JSP контейнер:</p>
<ul>
<li><strong>Translation</strong> – проверка и парсинг кода JSP страницы для создания кода сервлета. </li>
<li><strong>Compilation</strong> – компиляция исходного кода сервлета.</li>
<li><strong>Class Loading</strong> – загрузка скомпилированного класса в память.</li>
<li><strong>Instantiation</strong> – внедрение конструктора без параметра загруженного класса для инициализации в памяти.</li>
<li><strong>Initialization</strong> – вызов <code>init()</code> метода объекта JSP класса и инициализация конфигурации сервлета с первоначальными параметрами, которые указаны в дескрипторе развертывания (<code>web.xml</code>). После этой фазы JSP способен обрабатывать запросы клиентов. Обычно эти фазы происходят после первого запроса клиента (т.е. ленивая загрузка), но можно настроить загрузку и инициализацию JSP на старте приложения по аналогии с сервлетами.</li>
<li><strong>Request Processing</strong> – длительный жизненный цикл обработки запросов клиента JSP страницей. Обработка является многопоточной и аналогична сервлетам — для каждого запроса создается новый поток, объекты <code>ServletRequest</code> и <code>ServletResponse</code>, происходит выполнение сервис методов.</li>
<li><strong>Destroy</strong> – последняя фаза жизненного цикла JSP, на которой её класс удаляется из памяти. Обычно это происходит при выключении сервера или выгрузке приложения.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_3"><a name="Расскажите-о-методах-жизненного-цикла-jsp"></a>Расскажите о методах жизненного цикла JSP.</h3>
<p>Контейнер сервлетов (например, Tomcat, GlassFish) создает из JSP-страницы класс сервлета, наследующего свойства интерфейса <code>javax.servlet.jsp.HttpJspBase</code> и включающего следующие методы:</p>
<ul>
<li><code>jspInit()</code> — метод объявлен в JSP странице и реализуется с помощью контейнера. Этот метод вызывается один раз в жизненном цикле JSP для того, чтобы инициализировать конфигурационные параметры указанные в дескрипторе развертывания. Этот метод можно переопределить с помощью определения элемента <em>JSP scripting</em> и указания необходимых параметров для инициализации;</li>
<li><code>_jspService()</code> — метод переопределяется контейнером автоматически и соответствует непосредственно коду JSP, описанному на странице. Этот метод определен в интерфейсе <code>HttpJspPage</code>, его имя начинается с нижнего подчеркивания и он отличается от других методов жизненного цикла тем, что его невозможно переопределить;</li>
<li><code>jspDestroy()</code> — метод вызывается контейнером для удаления объекта из памяти (на последней фазе жизненного цикла JSP - Destroy). Метод вызывается только один раз и доступен для переопределения, предоставляя возможность освободить ресурсы, которые были созданы в <code>jspInit()</code>.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_4"><a name="Какие-методы-жизненного-цикла-jsp-могут-быть-переопределены"></a>Какие методы жизненного цикла JSP могут быть переопределены?</h3>
<p>Возможно переопределить лишь <code>jspInit()</code> и <code>jspDestroy()</code> методы.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_5"><a name="Как-можно-предотвратить-прямой-доступ-к-jsp-странице-из-браузера"></a>Как можно предотвратить прямой доступ к JSP странице из браузера?</h3>
<p>Прямой доступ к директории <code>/WEB-INF/</code> из веб-приложения отсутствует. Поэтому JSP-страницы можно расположить внутри этой папки и тем самым запретить доступ к странице из браузера. Однако, по аналогии с описанием сервлетов, будет необходимо настроить дескриптор развертывания:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;servlet&gt;</span>
    <span class="nt">&lt;servlet-name&gt;</span>Example<span class="nt">&lt;/servlet-name&gt;</span>
    <span class="nt">&lt;jsp-file&gt;</span>/WEB-INF/example.jsp<span class="nt">&lt;/jsp-file&gt;</span>
    <span class="nt">&lt;init-param&gt;</span>
        <span class="nt">&lt;param-name&gt;</span>exampleParameter<span class="nt">&lt;/param-name&gt;</span>
        <span class="nt">&lt;param-value&gt;</span>parameterValue<span class="nt">&lt;/param-value&gt;</span>
    <span class="nt">&lt;/init-param&gt;</span>
<span class="nt">&lt;/servlet&gt;</span>

<span class="nt">&lt;servlet-mapping&gt;</span>
    <span class="nt">&lt;servlet-name&gt;</span>Example<span class="nt">&lt;/servlet-name&gt;</span>
    <span class="nt">&lt;url-pattern&gt;</span>/example.jsp<span class="nt">&lt;/url-pattern&gt;</span>
<span class="nt">&lt;/servlet-mapping&gt;</span>
</code></pre></div>


<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_6"><a name="Какая-разница-между-динамическим-и-статическим-содержимым-jsp"></a>Какая разница между <em>динамическим</em> и <em>статическим</em> содержимым JSP?</h3>
<p>Статическое содержимое JSP (HTML, код JavaScript, изображения и т.д.) не изменяется в процессе работы веб приложения. </p>
<p>Динамические ресурсы созданы для того, чтобы отображать свое содержимое в зависимости от пользовательских действий. Обычно они представлены в виде выражений EL (Expression Language), библиотек JSP-тегов и пр.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_7"><a name="Как-закомментировать-код-в-jsp"></a>Как закомментировать код в JSP?</h3>
<ul>
<li><code>&lt;!—- HTML комментарий; отображается на странице JSP —-&gt;</code> такие комментарии будут видны клиенту при просмотре кода страницы.</li>
<li><code>&lt;%—- JSP комментарий; не отображается на странице JSP —-%&gt;</code> такие комментарии описываются в созданном сервлете и не посылаются клиенту. Для любых комментариев по коду или отладочной информации необходимо использовать именно такой тип комментариев.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_8"><a name="Какие-существуют-основные-типы-тегов-jsp"></a>Какие существуют основные типы тегов JSP?</h3>
<ul>
<li><em>Выражение JSP</em>: <code>&lt;%= expression %&gt;</code> - выражение, которое будет обработано с перенаправлением результата на вывод;</li>
<li><em>Скриплет JSP</em>: <code>&lt;% code %&gt;</code> - код, добавляемый в метод <code>service()</code>.</li>
<li><em>Объявление JSP</em>: <code>&lt;%! code %&gt;</code> - код, добавляемый в тело класса сервлета вне метода <code>service()</code>.</li>
<li><em>Директива JSP page</em>: <code>&lt;%@ page att="value" %&gt;</code> - директивы для контейнера сервлетов с информацией о параметрах.</li>
<li><em>Директива JSP include</em>: <code>&lt;%@ include file="url" %&gt;</code> - файл в локальной системе, подключаемый при трансляции JSP в сервлет.</li>
<li><em>Комментарий JSP</em>: <code>&lt;%-- comment --%&gt;</code> - комментарий; игнорируется при трансляции JSP страницы в сервлет.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp-action-tag-jsp-action-elements"><a name="Что-вы-знаете-о-действиях-jsp-action-tag-и-jsp-action-elements"></a>Что вы знаете о действиях JSP (<em>Action tag</em> и <em>JSP Action Elements</em>).</h3>
<p><strong>Action tag</strong> и <strong>JSP Action Elements</strong> предоставляют методы работы с Java Beans, подключения ресурсов, проброса запросов и создания динамических XML элементов. Такие элементы всегда начинаются с записи <code>jsp:</code> и используются непосредственно внутри страницы JSP без необходимости подключения сторонних библиотек или дополнительных настроек.</p>
<p>Наиболее часто используемыми JSP Action Elements являются:</p>
<ul>
<li><code>jsp:include</code>: <code>&lt;jsp:include page="относительный URL" flush="true"/&gt;</code> - подключить файл при запросе страницы. Если необходимо, чтобы файл подключался в процессе трансляции страницы, то используется директива <code>page</code> совместно с атрибутом <code>include</code>;</li>
<li><code>jsp:useBean</code>: <code>&lt;jsp:useBean att=значение*/&gt;</code> или <code>&lt;jsp:useBean att=значение*&gt;...&lt;/jsp:useBean&gt;</code> - найти или создать Java bean;</li>
<li><code>jsp:setProperty</code>: <code>&lt;jsp:setProperty att=значение*/&gt;</code> - установить свойства Java bean, или явно, или указанием на соответствующее значение, передаваемое при запросе;</li>
<li><code>jsp:forward</code>: <code>&lt;jsp:forward page="относительный URL"/&gt;</code> - передать запрос другой странице;</li>
<li><code>jsp:plugin</code>: <code>&lt;jsp:plugin attribute="значение"*&gt;...&lt;/jsp:plugin&gt;</code> - сгенерировать (в зависимости от типа браузера) тэги <code>OBJECT</code> или <code>EMBED</code> для апплета, использующего технологию Java Plugin.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp-jsp"><a name="Взаимодействие-jsp---сервлет---jsp"></a>Взаимодействие <em>JSP - сервлет - JSP</em>.</h3>
<p><em>«JSP - сервлет - JSP»</em> архитектура построения приложений носит название <em>MVC (Model/View/Controller)</em>:</p>
<ul>
<li>
<p><em>Model</em> - классы данных и бизнес-логики;</p>
</li>
<li>
<p><em>View</em> - страницы JSP;</p>
</li>
<li>
<p><em>Controller</em> - сервлеты.</p>
</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_9"><a name="Какие-области-видимости-переменных-существуют-в-jsp"></a>Какие области видимости переменных существуют в JSP?</h3>
<p>Область видимости объектов определяется тем контекстом в который помещается данный объект. В зависимости от той или иной области действия так же определяется время существования объекта. </p>
<p>В JSP предусмотрены следующие области действия переменных (объектов):</p>
<ul>
<li><code>request</code> область действия запроса - объект будет доступен на текущей JSP странице, странице пересылки (при использовании <code>jsp:forward</code>) или на включаемой странице (при использовании <code>jsp:include</code>);</li>
<li><code>session</code> область действия сессии - объект будет помещен в сеанс пользователя, будет доступен на всех JSP страницах и будет существовать пока существует сессия пользователя, или он не будет из нее принудительно удален.</li>
<li><code>application</code> область действия приложения - объект будет доступен для всех пользователей на всех JSP страницах и будет существовать на протяжении всей работы приложения или пока не будет удален принудительно и контекста приложения.</li>
<li><code>page</code> область действия страницы - объект будет доступен только на той странице, где он определен. На включаемых (<code>jsp:include</code>) и переадресуемых (<code>jsp:forward</code>) страницах данный объект уже не будет доступен.</li>
</ul>
<p>Таким образом, чтобы объект был доступен всем JSP страницам, необходимо указать область видимости <code>application</code> или <code>session</code>, в зависимости от того требуется ли доступ к объекту всем пользователям или только текущему.</p>
<p>Для указания требуемой области действия при определении объекта на JSP странице используется атрибут scope тега <code>jsp:useBean</code>:</p>
<div class="highlight"><pre><span></span><code><span class="err">&lt;jsp:useBean id=&quot;myBean&quot; class=&quot;ru.javacore.MyBean&quot; scope=&quot;session&quot;/&gt;</span>
</code></pre></div>


<p>Если не указывать атрибут <code>scope</code>, то по умолчанию задается область видимости страницы <code>page</code></p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_10"><a name="Какие-неявные-внутренние-объекты-и-методы-есть-на-jsp-странице"></a>Какие неявные, внутренние объекты и методы есть на JSP странице?</h3>
<p><strong>JSP implicit objects (неявные объекты)</strong> создаются контейнером при конвертации JSP страницы в код сервлета для помощи разработчикам. Эти объекты можно использовать напрямую в скриптлетах для передачи информации в сервис методы, однако мы не можем использовать неявные объекты в JSP Declaration, т.к. такой код пойдет на уровень класса.</p>
<p>Существует 9 видов неявных объектов, которые можно использовать прямо на JSP странице. Семь из них объявлены как локальные переменные в начале <code>_jspService()</code> метода, а два оставшихся могут быть использованы как аргументы метода <code>_jspService()</code>.</p>
<ul>
<li><code>out Object</code> : </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;strong&gt;</span>Current Time is<span class="nt">&lt;/strong&gt;</span>: <span class="cp">&lt;%</span> <span class="n">out</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="kp">new</span> <span class="no">Date</span><span class="p">());</span> <span class="cp">%&gt;</span><span class="nt">&lt;br&gt;</span>
</code></pre></div>


<ul>
<li><code>request Object</code> : </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;strong&gt;</span>Request User-Agent<span class="nt">&lt;/strong&gt;</span>: <span class="cp">&lt;%=</span><span class="n">request</span><span class="o">.</span><span class="n">getHeader</span><span class="p">(</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="nt">&lt;br&gt;</span>
</code></pre></div>


<ul>
<li><code>response Object</code> : </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;strong&gt;</span>Response<span class="nt">&lt;/strong&gt;</span>: <span class="cp">&lt;%</span><span class="n">response</span><span class="o">.</span><span class="n">addCookie</span><span class="p">(</span><span class="kp">new</span> <span class="no">Cookie</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">,</span><span class="s2">&quot;Value&quot;</span><span class="p">));</span> <span class="cp">%&gt;</span>
</code></pre></div>


<ul>
<li><code>config Object</code> : </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;strong&gt;</span>User init param value<span class="nt">&lt;/strong&gt;</span>: <span class="cp">&lt;%=</span><span class="n">config</span><span class="o">.</span><span class="n">getInitParameter</span><span class="p">(</span><span class="s2">&quot;User&quot;</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="nt">&lt;br&gt;</span>
</code></pre></div>


<ul>
<li><code>application Object</code> : </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;strong&gt;</span>User context param value<span class="nt">&lt;/strong&gt;</span>: <span class="cp">&lt;%=</span><span class="n">application</span><span class="o">.</span><span class="n">getInitParameter</span><span class="p">(</span><span class="s2">&quot;User&quot;</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="nt">&lt;br&gt;</span>
</code></pre></div>


<ul>
<li><code>session Object</code> : </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;strong&gt;</span>User Session ID<span class="nt">&lt;/strong&gt;</span>: <span class="cp">&lt;%=</span><span class="n">session</span><span class="o">.</span><span class="n">getId</span><span class="p">()</span> <span class="cp">%&gt;</span><span class="nt">&lt;br&gt;</span>
</code></pre></div>


<ul>
<li><code>pageContext Object</code> :</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;%</span> <span class="n">pageContext</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">,</span> <span class="s2">&quot;Test Value&quot;</span><span class="p">);</span> <span class="cp">%&gt;</span> 
<span class="nt">&lt;strong&gt;</span>PageContext attribute<span class="nt">&lt;/strong&gt;</span>: {Name=&quot;Test&quot;,Value=&quot;<span class="cp">&lt;%=</span><span class="n">pageContext</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">)</span> <span class="cp">%&gt;</span>&quot;}<span class="nt">&lt;br&gt;</span>
</code></pre></div>


<ul>
<li><code>page Object</code> : </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;strong&gt;</span>Generated Servlet Name<span class="nt">&lt;/strong&gt;</span>: <span class="cp">&lt;%=</span><span class="n">page</span><span class="o">.</span><span class="n">getClass</span><span class="p">()</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span> <span class="cp">%&gt;</span>
</code></pre></div>


<ul>
<li><code>exception Object</code> : </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;strong&gt;</span>Exception occured<span class="nt">&lt;/strong&gt;</span>: <span class="cp">&lt;%=</span><span class="n">exception</span> <span class="cp">%&gt;</span><span class="nt">&lt;br&gt;</span>
</code></pre></div>


<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_11"><a name="Какие-неявные-объекты-не-доступны-в-обычной-jsp-странице"></a>Какие неявные объекты не доступны в обычной JSP странице?</h3>
<p>Неявный объект исключений JSP недоступен в обычных JSP страницах и используется на страницах ошибок JSP (<em>errorpage</em>) только для того, чтобы перехватить исключение, выброшенное JSP страницей и далее предоставить какую-либо полезную информацию клиенту.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="pagecontext"><a name="Что-вы-знаете-о-pagecontext-и-какие-преимущества-его-использования"></a>Что вы знаете о <code>PageContext</code> и какие преимущества его использования?</h3>
<p>Неявный объект JSP - экземпляр класса <code>javax.servlet.jsp.PageContext</code> предоставляет доступ ко всем пространствам имён, ассоциированным с JSP-страницей, а также к различным её атрибутам.
Остальные неявные объекты добавляются к <code>pageContext</code> автоматически.</p>
<p>Класс <code>PageContext</code> это абстрактный класс, а его экземпляр можно получить через вызов метода <code>JspFactory.getPageContext()</code>, и освободить через вызов метода <code>JspFactory.releasePageContext()</code>.</p>
<p><code>PageContext</code> обладает следующим набором особенностей и возможностей:</p>
<ul>
<li>единый API для обслуживания пространств имён различных областей видимости;</li>
<li>несколько удобных API для доступа к различным <code>public</code>-объектам;</li>
<li>механизм получения <code>JspWriter</code> для вывода;</li>
<li>механизм обслуживания использования сессии страницей;</li>
<li>механизм экспонирования («показа») атрибутов директивы <code>page</code> среде скриптинга;</li>
<li>механизмы направления или включения текущего запроса в другие компоненты приложения;</li>
<li>механизм обработки процессов исключений на страницах ошибок <em>errorpage</em>;</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_12"><a name="Как-сконфигурировать-параметры-инициализации-для-jsp"></a>Как сконфигурировать параметры инициализации для JSP?</h3>
<p>Параметры инициализации для JSP задаются в <code>web.xml</code> файле аналогично сервлетам - элементами <code>servlet</code> и <code>servlet-mapping</code>. Единственным отличием будет указание местонахождения JSP страницы:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;servlet&gt;</span>
    <span class="nt">&lt;servlet-name&gt;</span>Example<span class="nt">&lt;/servlet-name&gt;</span>
    <span class="nt">&lt;jsp-file&gt;</span>/WEB-INF/example.jsp<span class="nt">&lt;/jsp-file&gt;</span>
    <span class="nt">&lt;init-param&gt;</span>
        <span class="nt">&lt;param-name&gt;</span>exampleParameter<span class="nt">&lt;/param-name&gt;</span>
        <span class="nt">&lt;param-value&gt;</span>parameterValue<span class="nt">&lt;/param-value&gt;</span>
    <span class="nt">&lt;/init-param&gt;</span>
<span class="nt">&lt;/servlet&gt;</span>
</code></pre></div>


<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_13"><a name="Почему-не-рекомендуется-использовать-скриплеты-скриптовые-элементы-в-jsp"></a>Почему не рекомендуется использовать скриплеты (скриптовые элементы) в JSP?</h3>
<p>JSP страницы используются в основном  для целей отображения представления (<em>view</em>), а вся бизнес-логика (<em>controller</em>) и модель (<em>model</em>) должны быть реализованы в сервлетах или классах-моделях. Обязанность JSP страницы - создание HTML ответа из переданных через атрибуты параметров. Большая часть JSP содержит HTML код а для того, чтобы помочь верстальщикам понять JSP код страницы предоставляется функционал элементов <em>action</em>, <em>JSP EL</em>, <em>JSP Standart Tag Library</em>. Именно их и необходимо использовать вместо скриптлетов для создания моста между (JSP)HTML и (JSP)Java частями.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_14"><a name="Можно-ли-определить-класс-внутри-jsp-страницы"></a>Можно ли определить класс внутри JSP страницы?</h3>
<p>Определить класс внутри JSP страницы можно, но это считается плохой практикой:</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;%!</span>
<span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">ExampleOne</span> <span class="p">{</span>
  <span class="c1">//...</span>
<span class="p">}</span>
<span class="o">%&gt;</span>

<span class="o">&lt;%</span>
<span class="kd">private</span> <span class="kd">class</span> <span class="nc">ExampleTwo</span> <span class="p">{</span>
  <span class="c1">//...</span>
<span class="p">}</span>
<span class="o">%&gt;</span>
</code></pre></div>


<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp-jsp-expression-language-el"><a name="Что-вы-знаете-о-Языке-выражений-jsp-jsp-expression-language--el"></a>Что вы знаете о Языке выражений JSP (JSP Expression Language – EL)?</h3>
<p><strong>JSP Expression Language (EL)</strong> — скриптовый язык выражений, который позволяет получить доступ к Java компонентам (JavaBeans) из JSP. Начиная с JSP 2.0 используется внутри JSP тегов для отделения Java кода от JSP для обеспечения лёгкого доступа к Java компонентам, уменьшая при этом количество кода Java в JSP-страницах, или даже полностью исключая его.</p>
<p>Развитие EL происходило с целью сделать его более простым для дизайнеров, которые имеют минимальные познания в языке программирования Java. До появления языка выражений, JSP имел несколько специальных тегов таких как скриптлеты (англ.), выражения и т. п. которые позволяли записывать Java код непосредственно на странице. С использованием языка выражений веб-дизайнер должен знать только то, как организовать вызов соответствующих java-методов.</p>
<p>Язык выражений JSP 2.0 включает:</p>
<ul>
<li>Создание и изменение переменных.</li>
<li>Управление потоком выполнения программы: ветвление, выполнение различных типов итераций и т.д.</li>
<li>Упрощенное обращение к встроенным JSP-объектам.</li>
<li>Возможность создавать собственные функции.</li>
</ul>
<p>Язык выражений используется внутри конструкции <code>${ ... }</code>. Подобная конструкция может размещаться либо отдельно, либо в правой части выражения установки атрибута тега.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="el"><a name="Какие-типы-el-операторов-вы-знаете"></a>Какие типы EL операторов вы знаете?</h3>
<p>Операторы в EL поддерживают наиболее часто используемые манипуляции данными.</p>
<p>Типы операторов:</p>
<ul>
<li>Стандартные операторы отношения: <code>==</code> (или <code>eq</code>), <code>!=</code> (или <code>neq</code>), <code>&lt;</code> (или <code>lt</code>), <code>&gt;</code> (или <code>gt</code>), <code>&lt;=</code> (или <code>le</code>), <code>&gt;=</code> (или <code>ge</code>).</li>
<li>Арифметические операторы: <code>+</code>, <code>–</code>, <code>*</code>, <code>/</code> (или <code>div</code>), <code>%</code> (или <code>mod</code>).</li>
<li>Логические операторы: <code>&amp;&amp;</code> (или <code>and</code>), <code>||</code> (или <code>or</code>), <code>!</code> (или <code>not</code>).</li>
<li>Оператор <code>empty</code> – используется для проверки переменной на <code>null</code>, или «пустое значение», который зависит от типа проверяемого объекта. Например, нулевая длина для строки или нулевой размер для коллекции.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp-el-jsp"><a name="Назовите-неявные-внутренние-объекты-jsp-el-и-их-отличия-от-объектов-jsp"></a>Назовите неявные, внутренние объекты JSP EL и их отличия от объектов JSP.</h3>
<p>Язык выражений JSP предоставляет множество неявных объектов, которые можно использовать для получения атрибутов в различных областях видимости (scopes) и для значений параметров. Важно отметить, что они отличаются от неявных объектов JSP и содержат атрибуты в заданной области видимости. Наиболее часто использующийся implicit object в JSP EL и JSP page — это объект pageContext. Ниже представлена таблица неявных объектов JSP EL.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="el-jsp"><a name="Как-отключить-возможность-использования-el-в-jsp"></a>Как отключить возможность использования EL в JSP?</h3>
<p>Для игнорирования выполнения языка выражений на странице существует два способа:</p>
<ul>
<li>использовать директиву <code>&lt;%@ page isELIgnored = «true» %&gt;</code>,</li>
<li>настроить <code>web.xml</code> (лучше подходит для отключения EL сразу на нескольких страницах):</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;jsp-config&gt;</span>
    <span class="nt">&lt;jsp-property-group&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>*.jsp<span class="nt">&lt;/url-pattern&gt;</span>
        <span class="nt">&lt;el-ignored&gt;</span>true<span class="nt">&lt;/el-ignored&gt;</span>
    <span class="nt">&lt;/jsp-property-group&gt;</span>
<span class="nt">&lt;/jsp-config&gt;</span>
</code></pre></div>


<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="http-jsp-el"><a name="Как-узнать-тип-http-метода-используя-jsp-el"></a>Как узнать тип HTTP метода используя JSP EL?</h3>
<p><code>${pageContext.request.method}</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jstl-jsp-standard-tag-library"><a name="Что-такое-jstl-jsp-standard-tag-library"></a>Что такое <em>JSTL (JSP Standard tag library)</em>?</h3>
<p><strong>JavaServer Pages Standard Tag Library, JSTL, Стандартная библиотека тегов JSP</strong> — расширение спецификации JSP (конечный результат <em>JSR 52</em>), добавляющее библиотеку JSP тегов для общих нужд, таких как разбор XML данных, условная обработка, создание циклов и поддержка интернационализации.</p>
<p>JSTL является альтернативой такому виду встроенной в JSP логики, как <em>скриплеты</em> (прямые вставки Java кода). Использование стандартизованного множества тегов предпочтительнее, поскольку получаемый код легче поддерживать и проще отделять бизнес-логику от логики отображения.</p>
<p>Для использования JSTL тегов необходимо:</p>
<ul>
<li>подключить зависимости, например в <code>pom.xml</code>:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>jstl<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>jstl<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.2<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>taglibs<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>standard<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.1.2<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>


<ul>
<li>указать пространство имен основных тегов JSTL через указание на JSP странице код:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;%</span><span class="err">@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;c&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="cp">&lt;%</span><span class="err">@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;http://java.sun.com/jsp/jstl/fmt&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;fmt&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="cp">&lt;%</span><span class="err">@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;http://java.sun.com/jsp/jstl/sql&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;sql&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="cp">&lt;%</span><span class="err">@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;http://java.sun.com/jsp/jstl/xml&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;x&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="cp">&lt;%</span><span class="err">@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;http://java.sun.com/jsp/jstl/functions&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;fn&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
</code></pre></div>


<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jstl"><a name="Из-каких-групп-тегов-состоит-библиотека-jstl"></a>Из каких групп тегов состоит библиотека <em>JSTL</em>?</h3>
<p>Группы тегов JSTL согласно их функциональности:</p>
<ul>
<li><em>Core Tags</em> предоставляют возможности итерации, обработки исключений, URL, <em>forward</em>, <em>redirect response</em> и т.д.</li>
<li><em>Formatting Tags</em> и <em>Localization Tags</em> предоставляют возможности по форматированию чисел, дат и поддержки <em>i18n</em> локализации и <em>resource bundles</em>.</li>
<li><em>SQL Tags</em> – поддержка работы с базами данных.</li>
<li><em>XML Tags</em> используются для работы с XML документами: парсинга, преобразования данных, выполнения выражений <em>XPath</em> и т.д..</li>
<li><em>JSTL Functions Tags</em> предоставляет набор функций, которые позволяют выполнять различные операции со строками и т.п. Например, по конкатенации или разбиению строк.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="cset-jspusebean"><a name="Какая-разница-между-cset-и-jspusebean"></a>Какая разница между <code>&lt;c:set&gt;</code> и <code>&lt;jsp:useBean&gt;</code>?</h3>
<p>Оба тега создают и помещают экземпляры в заданную область видимости, но <code>&lt;jsp:useBean&gt;</code> только создаёт экземпляр конкретного типа, а <code>&lt;c:set&gt;</code>, создав экземпляр, позволяет дополнительно извлекать значение, например, из параметров запроса, сессии и т. д. </p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="cimport-jspinclude-include"><a name="Чем-отличается-cimport-от-jspinclude-и-директивы-include-"></a>Чем отличается <code>&lt;c:import&gt;</code> от <code>&lt;jsp:include&gt;</code> и директивы <code>&lt;%@include %&gt;</code>?</h3>
<p>По сравнению с action-тегом <code>&lt;jsp:include&gt;</code> и директивой <code>&lt;%@include %&gt;</code> тег <code>&lt;c:import&gt;</code> обеспечивает более совершенное включение динамических ресурсов, т.к. получает доступ к источнику, чтение информации из которого происходит непосредственно без буферизации и контент включается в исходную JSP построчно.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_15"><a name="Как-можно-расширить-функциональность-jsp"></a>Как можно расширить функциональность JSP?</h3>
<h3 id="jsp_16"><a name="Что-вы-знаете-о-написании-пользовательских-jsp-тегов"></a>Что вы знаете о написании пользовательских JSP тегов?</h3>
<h3 id="_25"><a name="Приведите-пример-использования-собственных-тегов"></a>Приведите пример использования собственных тегов.</h3>
<p>JSP можно расширить с помощью создания собственных тегов с необходимой функциональностью, которые можно добавить в библиотеку тегов на страницу JSP указав необходимое пространство имен. </p>
<blockquote>
<p>/WEB-INF/exampleTag.tld</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;taglib</span> <span class="na">version=</span><span class="s">&quot;2.1&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/j2ee web-jsptaglibrary_2_1.xsd&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;tlib-version&gt;</span>1.0<span class="nt">&lt;/tlib-version&gt;</span>
    <span class="nt">&lt;short-name&gt;</span>example<span class="nt">&lt;/short-name&gt;</span>
    <span class="nt">&lt;uri&gt;</span>/WEB-INF/exampleTag<span class="nt">&lt;/uri&gt;</span>
    <span class="nt">&lt;tag&gt;</span>
        <span class="nt">&lt;name&gt;</span>exampleTag<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;tag-class&gt;</span>xyz.company.ExampleTag<span class="nt">&lt;/tag-class&gt;</span>
        <span class="nt">&lt;body-content&gt;</span>empty<span class="nt">&lt;/body-content&gt;</span>
        <span class="nt">&lt;info&gt;</span>The example tag displays Hello World!<span class="nt">&lt;/info&gt;</span>
    <span class="nt">&lt;/tag&gt;</span>
<span class="nt">&lt;/taglib&gt;</span>
</code></pre></div>


<blockquote>
<p>xyz.company.ExampleServlet.java</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">xyz.company</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.jsp.JspException</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.jsp.tagext.TagSupport</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleTag</span> <span class="kd">extends</span> <span class="n">TagSupport</span><span class="p">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="p">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">doStartTag</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">JspException</span> <span class="p">{</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="n">pageContext</span><span class="p">.</span><span class="na">getOut</span><span class="p">().</span><span class="na">print</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="n">IOException</span> <span class="n">ioException</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="n">JspException</span><span class="p">(</span><span class="s">&quot;Error: &quot;</span> <span class="o">+</span> <span class="n">ioException</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
        <span class="p">}</span>       
        <span class="k">return</span> <span class="n">SKIP_BODY</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>


<blockquote>
<p>exampleTag.jsp</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;%</span><span class="err">@</span> <span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;/WEB-INF/exampleTag.tld&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="cp">%&gt;</span>
<span class="cp">&lt;%</span><span class="err">@</span> <span class="n">page</span> <span class="n">session</span><span class="o">=</span><span class="s2">&quot;false&quot;</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s2">&quot;UTF-8&quot;</span><span class="cp">%&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;title&gt;</span>Example Tag<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Example Tag<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;p&gt;&lt;example:exampleTage</span> <span class="nt">/&gt;&lt;p&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>


<p>Также в пользовательских тегах существует возможность задать входные параметры. Например, существует необходимость отформатировать каким-либо стилем очень длинное число. Для этого можно использовать собственный тег по типу:</p>
<p><code>&lt;mytags:formatNumber number="123456.789" format="#,## #.00"/&gt;</code></p>
<p>Используя входные параметры, число должно быть преобразовано на JSP странице в таком виде <code>123,456.79</code> согласно шаблону. Т.к. JSTL не предоставляет такой функциональности, необходимо создать пользовательский тег для получения необходимого результата.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="html-jsp"><a name="Как-сделать-перенос-строки-в-html-средствами-jsp"></a>Как сделать перенос строки в HTML средствами JSP?</h3>
<p>Для переноса строки можно использовать тег <code>c:out</code> и атрибут <code>escapeXml</code>, который отключает обработку HTML элементов. В этом случае браузер получит следующий код в виде строки и обработает элемент <code>&lt;br&gt;</code> как требуется:</p>
<p><code>&lt;c:out value="&lt;br&gt; creates a new line in HTML" escapeXml="true"&gt;&lt;/c:out&gt;</code></p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp-webxml"><a name="Почему-не-нужно-конфигурировать-стандартные-jsp-теги-в-webxml"></a>Почему не нужно конфигурировать стандартные JSP теги в <code>web.xml</code>?</h3>
<p>Стандартные теги JSP не конфигурируются в <code>web.xml</code>, потому что tld файлы уже находятся внутри каталога <code>/META-INF/</code> в jar файлах JSTL. </p>
<p>Когда контейнер загружает веб-приложение и находит tld файлы в в jar файле в директории <code>/META-INF/</code>, то он автоматически настраивает их для непосредственного использования на JSP страницах. Остается только задать пространство имен на JSP странице.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_17"><a name="Как-можно-обработать-ошибки-jsp-страниц"></a>Как можно обработать ошибки JSP страниц?</h3>
<p>Для обработки исключений выброшенных на JSP странице достаточно лишь задать страницу ошибки JSP и при её создании установить значение <em>page directive attribute</em> <code>isErrorPage</code> в значение <code>true</code>. Таким образом будет предоставлен доступ к неявным объектам исключений в JSP и появится возможность передавать собственные, более информативные сообщения об ошибках клиенту. При этом настройка дескриптора развертывания выглядит так:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;error-page&gt;</span>
     <span class="nt">&lt;error-code&gt;</span>404<span class="nt">&lt;/error-code&gt;</span>
     <span class="nt">&lt;location&gt;</span>/error.jsp<span class="nt">&lt;/location&gt;</span>
<span class="nt">&lt;/error-page&gt;</span>

<span class="nt">&lt;error-page&gt;</span>
     <span class="nt">&lt;exception-type&gt;</span>java.lang.Throwable<span class="nt">&lt;/exception-type&gt;</span>
     <span class="nt">&lt;location&gt;</span>/error.jsp<span class="nt">&lt;/location&gt;</span>
<span class="nt">&lt;/error-page&gt;</span>
</code></pre></div>


<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jstl_1"><a name="Как-происходит-обработка-ошибок-с-помощью-jstl"></a>Как происходит обработка ошибок с помощью JSTL?</h3>
<p>Для перехвата и обработки исключений в служебных методах класса служат JSTL Core Tags <code>c:catch</code> и <code>c:if</code>. </p>
<blockquote>
<p>Тег <code>c:catch</code> перехватывает исключение и обертывает его в переменную <code>exception</code>, доступную для обработки в теге <code>c:if</code>:</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;c:catch</span> <span class="na">var =</span><span class="s">&quot;exception&quot;</span><span class="nt">&gt;</span>
   <span class="cp">&lt;%</span> <span class="n">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">42</span><span class="o">/</span><span class="mi">0</span><span class="p">;</span><span class="cp">%&gt;</span>
<span class="nt">&lt;/c:catch&gt;</span>  
<span class="nt">&lt;c:if</span> <span class="na">test =</span> <span class="s">&quot;${exception ne null}&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;p&gt;</span>Exception is : ${exception} <span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
   Exception Message: ${exception.message}<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/c:if&gt;</span>
</code></pre></div>


<p>Обратите внимание что используется язык выражений JSP EL в теге <code>c:if</code>.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_18"><a name="Как-конфигурируется-jsp-в-дескрипторе-развертывания"></a>Как конфигурируется JSP в дескрипторе развертывания.</h3>
<p>Для настройки различных параметров JSP страниц используется элемент <code>jsp-config</code>, который отвечает за:</p>
<ul>
<li>управление элементами скриптлетов на странице;</li>
<li>управления выполнением в языке выражений;</li>
<li>определение шаблона URL для encoding;</li>
<li>определение размера буфера, который используется для объектов на странице;</li>
<li>обозначение групп ресурсов, соответствующих шаблону URL, которые должны быть обработаны как XML документ.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;jsp-config&gt;</span>
    <span class="nt">&lt;taglib&gt;</span>
        <span class="nt">&lt;taglib-uri&gt;</span>http://company.xyz/jsp/tlds/customtags<span class="nt">&lt;/taglib-uri&gt;</span>
        <span class="nt">&lt;taglib-location&gt;</span>/WEB-INF/exampleTag.tld<span class="nt">&lt;/taglib-location&gt;</span>
    <span class="nt">&lt;/taglib&gt;</span>
<span class="nt">&lt;/jsp-config&gt;</span>
</code></pre></div>


<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="javascript-jsp"><a name="Можно-ли-использовать-javascript-на-jsp-странице"></a>Можно ли использовать Javascript на JSP странице?</h3>
<p>Да, это возможно. Несмотря на то, что JSP это серверная технология, на выходе она всё равно создает <code>HTML</code> страницу, на которую можно добавлять Javascript и CSS.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_19"><a name="Всегда-ли-создается-объект-сессии-на-jsp-странице-можно-ли-отключить-его-создание"></a>Всегда ли создается объект сессии на JSP странице, можно ли отключить его создание?</h3>
<p>Jsp-страница, по умолчанию, всегда создает сессию. Используя директиву <code>page</code> с атрибутом <code>session</code> можно изменить это поведение:</p>
<p><code>&lt;%@ page session ="false" %&gt;</code></p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jspwriter-printwriter"><a name="Какая-разница-между-jspwriter-и-сервлетным-printwriter"></a>Какая разница между <code>JSPWriter</code> и сервлетным <code>PrintWriter</code>?</h3>
<p><code>PrintWriter</code> является объектом отвечающим за запись содержания ответа на запрос. <code>JspWriter</code> использует объект <code>PrintWriter</code> для буферизации. Когда буфер заполняется или сбрасывается, <code>JspWriter</code> использует объект <code>PrintWriter</code> для записи содержания в ответ.</p>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h3 id="jsp_20"><a name="Опишите-общие-практические-принципы-работы-с-jsp"></a>Опишите общие практические принципы работы с JSP.</h3>
<p>Хорошей практикой работы с технологией JSP является соблюдение следующих правил:</p>
<ul>
<li>Следует избегать использования элементов скриптлетов на странице. Если элементы <em>action</em>, <em>JSTL</em>, <em>JSP EL</em> не удовлетворяют потребностям, то желательно написать собственный тег.</li>
<li>Рекомендуется использовать разные виды комментариев: так JSP комментарии необходимы для уровня кода и отладки, т.к. они не будут показаны клиенту.</li>
<li>Не стоит размещать какой-либо бизнес логики внутри JSP страницы. Страницы должны использоваться только для создания ответов клиенту.</li>
<li>Для повышения производительности лучше отключать создание сессии на странице, когда это не требуется.</li>
<li>Директивы <code>taglib</code>, <code>page</code> в начале JSP страницы улучшают читабельность кода.</li>
<li>Следует правильно использовать директиву <code>include</code> и элемент <code>jsp:include action</code>. Первая используется для статических ресурсов, а второй для динамических ресурсов времени выполнения.</li>
<li>Обработку исключений нужно производить с помощью страниц ошибок. Это помогает избегать запуска специальных служебных методов и может повысить производительность.</li>
<li>Использующиеся CSS и JavaScript должны быть разнесены в разные файлы и подключаться в начале страницы.</li>
<li>В большинстве случаев JSTL должно хватать для всех нужд. Если это не так, то в начале следует проанализировать логику своего приложения, и попробовать перенести выполнения кода в сервлет, а далее с помощью установки атрибутов использовать на JSP странице только результат.</li>
</ul>
<p><a href="#servlets-jsp-jstl">к оглавлению</a></p>
<h1 id="_26">Источники</h1>
<ul>
<li><a href="http://javastudy.ru/interview/jee-servlet-api-questions/">javastudy.ru</a></li>
<li><a href="http://www.java2ee.ru/servlets/">java2ee.ru</a></li>
<li><a href="http://java-online.ru/jsp-questions.xhtml">Java-online</a></li>
<li><a href="http://www.codenet.ru/webmast/java/jsp.php">Codenet</a></li>
<li><a href="https://articles.javatalks.ru/articles/24">JavaTalks Articles</a></li>
</ul>
<p><a href="README.md">Вопросы для собеседования</a></p>  </div>
</article>

    <footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Java Interview ",
  "url" : "",
  "image": "",
  "description": ""
}
</script>

    <script>
      $(document).ready(function() {
        $('#tipue_search_input').tipuesearch();
      });
    </script>

</body>
</html>